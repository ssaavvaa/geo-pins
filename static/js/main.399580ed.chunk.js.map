{"version":3,"sources":["context.js","withRoot.js","components/Auth/Signout.js","components/Header.js","components/PinIcon.js","components/Pin/NoContent.js","client.js","components/Pin/CreatePin.js","graphql/mutations.js","components/Comment/CreateComment.js","components/Comment/Comments.js","components/Pin/PinContent.js","components/Blog.js","graphql/subscriptions.js","components/Map.js","graphql/queries.js","pages/App.js","components/Auth/Login.js","pages/Splash.js","reducer.js","ProtectedRoute.js","serviceWorker.js","index.js"],"names":["Context","createContext","currentUser","isAuth","draft","pins","currentPin","theme","createMuiTheme","palette","primary","light","purple","main","dark","secondary","green","typography","useNextVariants","withRoot","Component","props","react_default","a","createElement","styles","CssBaseline_default","withStyles","root","cursor","display","buttonText","color","buttonIcon","marginLeft","_ref","classes","mobileSize","useMediaQuery","dispatch","useContext","google_login","onLogoutSuccess","type","console","log","render","_ref2","onClick","className","Typography_default","style","variant","ExitToApp_default","flexGrow","grow","alignItems","icon","marginRight","spacing","unit","fontSize","mobile","picture","height","borderRadius","state","AppBar_default","borderBottom","padding","position","Toolbar_default","Map_default","component","noWrap","src","alt","name","Auth_Signout","PinIcon","size","PlaceTwoTone_default","flexDirection","justifyContent","margin","Explore_default","align","gutterBottom","BASE_URL","useClient","_useState","useState","_useState2","Object","slicedToArray","idToken","setIdToken","useEffect","token","window","gapi","auth2","getAuthInstance","get","getAuthResponse","id_token","GraphQLClient","headers","authorization","form","paddingBottom","contentField","width","input","alignCenter","iconLarge","leftIcon","rightIcon","button","marginTop","marginBottom","client","_useContext","title","setTitle","_useState3","_useState4","image","setImage","_useState5","_useState6","content","setContent","_useState7","_useState8","submitting","setSubmitting","handleSubmit","asyncToGenerator","regenerator_default","mark","_callee","event","url","_state$draft","latitude","longitude","variables","wrap","_context","prev","next","preventDefault","handleImageUpload","sent","request","handleDiscard","t0","stop","_x","apply","this","arguments","_ref3","_callee2","data","res","_context2","FormData","append","axios","post","abrupt","LandscapeOutlined_default","alignContent","TextField_default","onChange","e","target","value","label","placeholder","htmlFor","AddAPhotoTwoTone_default","accept","files","id","multiline","rows","fullWidth","Button_default","Clear_default","disabled","trim","SaveTwoTone_default","flex","clearButton","sendButton","text","setText","handleSubmitComment","pinId","_id","Fragment","IconButton_default","InputBase_default","Send_default","Divider_default","backgroundColor","background","paper","inline","comments","List_default","map","comment","i","ListItem_default","key","ListItemAvatar_default","Avatar_default","author","ListItemText_default","distanceInWordsToNow","Number","createdAt","textAlign","_state$currentPin","Face_default","AccessTime_default","format","Comment_CreateComment","Comment_Comments","minWidth","maxWidth","maxHeight","overflowY","rootMobile","overflowX","BlogContent","CreatePin","PinContent","NoContent","index_es","PIN_ADDED_SUBSCRIPTION","gql","_templateObject","PIN_UPDATED_SUBSCRIPTION","_templateObject2","PIN_DELETED_SUBSCRIPTION","_templateObject3","initialViewport","zoom","navigationControl","top","left","deleteIcon","popupImage","objectFit","popupTab","viewPort","setViewPort","userPosition","setUserPosition","popup","setPopup","findIndex","pin","length","getPins","getUserPosition","navigator","geolocation","getCurrentPosition","_position$coords","coords","objectSpread","payload","highLightNewPin","differenceInMinutes","Date","now","handleDeletePin","_ref5","esm","assign","mapStyle","mapboxApiAccessToken","_ref4","lngLat","leftButton","_lngLat","onViewportChange","viewport","handleSelectPin","anchor","closeOnClick","onClose","toFixed","DeleteTwoTone_default","react_apollo_esm","subscription","onSubscriptionData","_ref6","pinAdded","subscriptionData","_ref7","pinUpdated","_ref8","pinDeleted","components_Blog","components_Header","components_Map","onSuccess","googleUser","me","isSignedIn","onFailure","err","error","clientId","Splash","Redirect","to","Auth_Login","reducer","newPin","prevPins","filter","concat","toConsumableArray","updatedCurrentPin","updatedPins","deletedPin","filteredPins","ProtectedRoute","rest","objectWithoutProperties","Route","Boolean","location","hostname","match","wsLink","WebSocketLink","uri","options","reconnect","ApolloClient","link","cache","InMemoryCache","ReactDOM","initialState","_useReducer","useReducer","_useReducer2","BrowserRouter","context","Provider","Switch","src_ProtectedRoute","exact","path","App","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"+MAUeA,EARCC,wBAAc,CAC1BC,YAAa,KACbC,QAAQ,EACRC,MAAO,KACPC,KAAK,GACLC,WAAW,iECCTC,EAAQC,yBAAe,CAC3BC,QAAS,CACPC,QAAS,CACPC,MAAOC,IAAO,KACdC,KAAMD,IAAO,KACbE,KAAMF,IAAO,MAEfG,UAAW,CACTJ,MAAOK,IAAM,KACbH,KAAMG,IAAM,KACZF,KAAME,IAAM,OAGhBC,WAAY,CACVC,iBAAiB,KAqBNC,MAjBf,SAAkBC,GAchB,OAbA,SAAkBC,GAGhB,OACEC,EAAAC,EAAAC,cAACC,EAAA,iBAAD,CAAkBlB,MAAOA,GAGvBe,EAAAC,EAAAC,cAACE,EAAAH,EAAD,MACAD,EAAAC,EAAAC,cAACJ,EAAcC,yDCgBRM,uBAdA,CACbC,KAAM,CACJC,OAAQ,UACRC,QAAS,QAEXC,WAAY,CACVC,MAAO,UAETC,WAAY,CACVC,WAAY,MACZF,MAAO,WAIIL,CA3CC,SAAAQ,GAAiB,IAAdC,EAAcD,EAAdC,QACXC,EAAaC,iCAAc,sBACzBC,EAAaC,qBAAWxC,GAAxBuC,SAOR,OACEjB,EAAAC,EAAAC,cAACiB,EAAA,aAAD,CACAC,gBAPc,WAChBH,EAAS,CAACI,KAAM,iBAChBC,QAAQC,IAAI,UAMVC,OAAS,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,QAAH,OACP1B,EAAAC,EAAAC,cAAA,QACAyB,UAAab,EAAQR,KAAMoB,QAAWA,GACrC1B,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,CACC4B,MAAS,CAAErB,QAASO,EAAa,OAAS,SACzCe,QAAU,QACVH,UAAab,EAAQL,YAHvB,WAOAT,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAe0B,UAAab,EAAQH,uEC+C5BN,uBAxBA,SAAApB,GAAK,MAAK,CACvBqB,KAAM,CACJ0B,SAAU,GAEZC,KAAM,CACJD,SAAU,EACVxB,QAAS,OACT0B,WAAY,UAEdC,KAAM,CACJC,YAAanD,EAAMoD,QAAQC,KAC3B5B,MAAO,QACP6B,SAAU,IAEZC,OAAQ,CACNhC,QAAS,QAEXiC,QAAS,CACPC,OAAQ,OACRC,aAAc,MACdP,YAAkC,EAArBnD,EAAMoD,QAAQC,QAIhBjC,CAnEA,SAAAQ,GAAiB,IAAdC,EAAcD,EAAdC,QACVC,EAAaC,iCAAc,sBAEzBpC,EADUsC,qBAAWxC,GAArBkE,MACAhE,YACR,OACAoB,EAAAC,EAAAC,cAAA,OAAMyB,UAAab,EAAQR,MACzBN,EAAAC,EAAAC,cAAC2C,EAAA5C,EAAD,CAAQ4B,MAAO,CAAEiB,aAAa,kBAAoBC,QAAQ,IAAMC,SAAW,UACzEhD,EAAAC,EAAAC,cAAC+C,EAAAhD,EAAD,KAEED,EAAAC,EAAAC,cAAA,OAAMyB,UAAab,EAAQmB,MACzBjC,EAAAC,EAAAC,cAACgD,EAAAjD,EAAD,CAAS0B,UAAYb,EAAQqB,OAC7BnC,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,CACC0B,UAAaZ,EAAaD,EAAQ0B,OAAS,GAC3CW,UAAY,KACZrB,QAAU,KACVpB,MAAM,UACN0C,QAAM,GALP,YAUDxE,GACCoB,EAAAC,EAAAC,cAAA,OAAKyB,UAAab,EAAQmB,MACzBjC,EAAAC,EAAAC,cAAA,OAAKyB,UAAab,EAAQ2B,QACrBY,IAAOzE,EAAY6D,QACnBa,IAAO1E,EAAY2E,OACzBvD,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,CACC0B,UAAaZ,EAAaD,EAAQ0B,OAAS,GAC3CV,QAAU,KACVpB,MAAM,UACN0C,QAAM,GAELxE,EAAY2E,OAIhBvD,EAAAC,EAAAC,cAACsD,EAAD,sEC3COC,EAAA,SAAA5C,GAAA,IAAG6C,EAAH7C,EAAG6C,KAAOhD,EAAVG,EAAUH,MAAQgB,EAAlBb,EAAkBa,QAAlB,OACX1B,EAAAC,EAAAC,cAACyD,EAAA1D,EAAD,CAAcyB,QAAYA,EAAUG,MAAS,CAAEU,SAAUmB,EAAOhD,8BC8BrDL,uBAbA,SAAApB,GAAK,MAAK,CACvBqB,KAAM,CACJE,QAAS,OACT0B,WAAY,SACZ0B,cAAe,SACfC,eAAgB,UAElB1B,KAAM,CACJ2B,OAAQ7E,EAAMoD,QAAQC,KACtBC,SAAU,UAIClC,CA7BG,SAAAQ,GAAA,IAAGC,EAAHD,EAAGC,QAAH,OAChBd,EAAAC,EAAAC,cAAA,OAAKyB,UAAab,EAAQR,MACtBN,EAAAC,EAAAC,cAAC6D,EAAA9D,EAAD,CAAa0B,UAAab,EAAQqB,OAClCnC,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,CACCmD,QAAM,EACND,UAAY,KACZrB,QAAU,KACVkC,MAAQ,SACRtD,MAAQ,cACRuD,cAAY,GANb,iLCLOC,GACJ,+CAGIC,GAAY,WAAM,IAAAC,EACOC,mBAAS,IADhBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACnBK,EADmBH,EAAA,GACTI,EADSJ,EAAA,GAW/B,OATIK,oBAAU,WACN,IAAMC,EAAQC,OAAOC,KAAKC,MACxBC,kBACApG,YAAYqG,MACZC,kBACAC,SACDT,EAAWE,IACd,IAEC,IAAIQ,iBAAclB,GAAW,CAChCmB,QAAU,CAAEC,cAAeb,MCwKhBpE,wBAxCA,SAAApB,GAAK,MAAK,CACvBsG,KAAM,CACJ/E,QAAS,OACTqD,eAAgB,SAChB3B,WAAY,SACZ0B,cAAe,SACf4B,cAAevG,EAAMoD,QAAQC,MAE/BmD,aAAc,CACZ7E,WAAY3B,EAAMoD,QAAQC,KAC1BF,YAAanD,EAAMoD,QAAQC,KAC3BoD,MAAO,OAETC,MAAO,CACLnF,QAAS,QAEXoF,YAAa,CACXpF,QAAS,OACT0B,WAAY,UAEd2D,UAAW,CACTtD,SAAU,GACVH,YAAanD,EAAMoD,QAAQC,MAE7BwD,SAAU,CACRvD,SAAU,GACVH,YAAanD,EAAMoD,QAAQC,MAE7ByD,UAAW,CACTxD,SAAU,GACV3B,WAAY3B,EAAMoD,QAAQC,MAE5B0D,OAAQ,CACNC,UAAgC,EAArBhH,EAAMoD,QAAQC,KACzB4D,aAAmC,EAArBjH,EAAMoD,QAAQC,KAC5BF,YAAanD,EAAMoD,QAAQC,KAC3B1B,WAAY,KAIDP,CA5KI,SAAAQ,GAAiB,IAAdC,EAAcD,EAAdC,QACdC,EAAaC,iCAAc,sBAC3BmF,EAAShC,KAFmBiC,EAGLlF,qBAAWxC,GAAhCkE,EAH0BwD,EAG1BxD,MAAQ3B,EAHkBmF,EAGlBnF,SAHkBmD,EAILC,mBAAS,IAJJC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAI1BiC,EAJ0B/B,EAAA,GAIlBgC,EAJkBhC,EAAA,GAAAiC,EAKLlC,mBAAS,IALJmC,EAAAjC,OAAAC,EAAA,EAAAD,CAAAgC,EAAA,GAK1BE,EAL0BD,EAAA,GAKlBE,EALkBF,EAAA,GAAAG,EAMDtC,mBAAS,IANRuC,EAAArC,OAAAC,EAAA,EAAAD,CAAAoC,EAAA,GAM1BE,EAN0BD,EAAA,GAMhBE,EANgBF,EAAA,GAAAG,EAOK1C,oBAAS,GAPd2C,EAAAzC,OAAAC,EAAA,EAAAD,CAAAwC,EAAA,GAO1BE,EAP0BD,EAAA,GAObE,EAPaF,EAAA,GAS9BG,EAAY,eAAA1F,EAAA8C,OAAA6C,EAAA,EAAA7C,CAAA8C,EAAApH,EAAAqH,KAAG,SAAAC,EAAMC,GAAN,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAR,EAAApH,EAAA6H,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAEjBR,EAAMU,iBACNhB,GAAc,GAHGa,EAAAE,KAAA,EAICE,IAJD,cAIXV,EAJWM,EAAAK,KAAAV,EAMgB9E,EAAM9D,MAA/B6I,EANSD,EAMTC,SAAWC,EANFF,EAMEE,UAEbC,EAAY,CAChBxB,QACAI,MAAOgB,EACPZ,UACAc,WACAC,aAbeG,EAAAE,KAAA,GAgBX9B,EAAOkC,QCxCe,yeDwCeR,GAhB1B,QAiBjBS,IAjBiBP,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAQ,GAAAR,EAAA,SAoBjBb,GAAc,GApBG,yBAAAa,EAAAS,SAAAjB,EAAA,kBAAH,gBAAAkB,GAAA,OAAAhH,EAAAiH,MAAAC,KAAAC,YAAA,GA0BZN,EAAgB,WACpBhC,EAAS,IACTI,EAAS,IACTI,EAAW,IACX7F,EAAS,CAACI,KAAK,mBAGX8G,EAAiB,eAAAU,EAAAtE,OAAA6C,EAAA,EAAA7C,CAAA8C,EAAApH,EAAAqH,KAAG,SAAAwB,IAAA,IAAAC,EAAAC,EAAA,OAAA3B,EAAApH,EAAA6H,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,cACnBc,EAAO,IAAIG,UACZC,OAAO,OAAS1C,GACrBsC,EAAKI,OAAO,gBAAkB,WAC9BJ,EAAKI,OAAO,aAAe,aAJFF,EAAAhB,KAAA,EAKPmB,IAAMC,KACtB,yDACCN,GAPsB,cAKnBC,EALmBC,EAAAb,KAAAa,EAAAK,OAAA,SASlBN,EAAID,KAAKtB,KATS,wBAAAwB,EAAAT,SAAAM,MAAH,yBAAAD,EAAAH,MAAAC,KAAAC,YAAA,GAYrB,OACE5I,EAAAC,EAAAC,cAAA,QAAMyB,UAAab,EAAQyE,MACxBvF,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,CACC0B,UAAab,EAAQ8E,YACrBzC,UAAY,KACZtB,MAAO,CAACqE,aAAa,IACrBpE,QAAU,KACVpB,MAAQ,aAEPV,EAAAC,EAAAC,cAACqJ,GAAAtJ,EAAD,CAAe0B,UAAab,EAAQ+E,YAPtC,kBASA7F,EAAAC,EAAAC,cAAA,OAAK2B,MAAS,CAACrB,QAAQ,OAASoD,cAAc,SAAWC,eAAe,SAAW2F,aAAa,UAAW7H,UAAab,EAAQ2E,cAC9HzF,EAAAC,EAAAC,cAACuJ,EAAAxJ,EAAD,CACAyJ,SAAY,SAAAC,GAAC,OAAIrD,EAASqD,EAAEC,OAAOC,QAClCtG,KAAO,QACP1B,MAAO,CAACrB,QAAQ,OAASkF,MAAM,OAAQQ,aAAa,QACpD4D,MAAQ,QACRC,YAAc,qBAEd/J,EAAAC,EAAAC,cAAA,SACA2B,MAAO,CAACrB,QAAQ,OACR0F,aAAa,OACbxF,MAAO+F,GAAS,QAChB5C,eAAe,SACf2F,aAAa,UACrBQ,QAAU,SACNhK,EAAAC,EAAAC,cAAC+J,EAAAhK,EAAD,OAELD,EAAAC,EAAAC,cAAA,SACG6J,YAAc,QACdlI,MAAS,CAAErB,QAAQ,QAAU0F,aAAa,QAC1CgE,OAAS,UACT7I,KAAK,OACLqI,SAAY,SAAAC,GAAC,OAAIjD,EAASiD,EAAEC,OAAOO,MAAM,KACzCC,GAAG,WAEPpK,EAAAC,EAAAC,cAAA,OAAKyB,UAAab,EAAQ2E,cACxBzF,EAAAC,EAAAC,cAACuJ,EAAAxJ,EAAD,CACCyJ,SAAY,SAAAC,GAAC,OAAI7C,EAAW6C,EAAEC,OAAOC,QACrCtG,KAAO,UACPuG,MAAQ,UACRO,WAAS,EACTC,KAASvJ,EAAa,IAAM,IAC5B+C,OAAS,SACTyG,WAAS,EACTzI,QAAU,cAGb9B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACsK,EAAAvK,EAAD,CACAyB,QAAW4G,EACV3G,UAAab,EAAQkF,OACrBlE,QAAU,YACVpB,MAAQ,WAEPV,EAAAC,EAAAC,cAACuK,GAAAxK,EAAD,CACC0B,UAAab,EAAQgF,WAPxB,WAWA9F,EAAAC,EAAAC,cAACsK,EAAAvK,EAAD,CACCoB,KAAO,SACPqJ,UAAarE,EAAMsE,SAAW9D,EAAQ8D,SAAWlE,GAASQ,EAC1DvF,QAAWyF,EACXxF,UAAab,EAAQkF,OACrBlE,QAAU,YACVpB,MAAQ,aANT,SASEV,EAAAC,EAAAC,cAAC0K,GAAA3K,EAAD,CACC0B,UAAab,EAAQiF,0KE9EnB1F,wBAnBA,SAAApB,GAAK,MAAK,CACvBsG,KAAM,CACJ/E,QAAS,OACT0B,WAAY,UAEdyD,MAAO,CACL/E,WAAY,EACZiK,KAAM,GAERC,YAAa,CACX/H,QAAS,EACTrC,MAAO,OAETqK,WAAY,CACVhI,QAAS,EACTrC,MAAOzB,EAAME,QAAQM,UAAUD,QAIpBa,CAlDO,SAAAQ,GAAiB,IAAdC,EAAcD,EAAdC,QACjBqF,EAAShC,KACPvB,EAAW1B,qBAAWxC,GAAtBkE,MAF6BwB,EAGVC,mBAAS,IAHCC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAG7B4G,EAH6B1G,EAAA,GAGtB2G,EAHsB3G,EAAA,GAKhC4G,EAAmB,eAAAzJ,EAAA8C,OAAA6C,EAAA,EAAA7C,CAAA8C,EAAApH,EAAAqH,KAAG,SAAAC,IAAA,IAAAM,EAAA,OAAAR,EAAApH,EAAA6H,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACpBJ,EAAY,CAAEsD,MAAOvI,EAAM5D,WAAWoM,IAAMJ,QADxBjD,EAAAE,KAAA,EAEpB9B,EAAOkC,QDoBoB,iYCpBcR,GAFrB,OAG1BoD,EAAQ,IAHkB,wBAAAlD,EAAAS,SAAAjB,MAAH,yBAAA9F,EAAAiH,MAAAC,KAAAC,YAAA,GAMxB,OAAO5I,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoL,SAAA,KACHrL,EAAAC,EAAAC,cAAA,QAAMyB,UAAab,EAAQyE,MACzBvF,EAAAC,EAAAC,cAACoL,GAAArL,EAAD,CAAYyB,QAAW,kBAAMuJ,EAAQ,KAAKP,UAAaM,EAAKL,OAAQhJ,UAAab,EAAQgK,aACvF9K,EAAAC,EAAAC,cAACuK,GAAAxK,EAAD,OAEFD,EAAAC,EAAAC,cAACqL,GAAAtL,EAAD,CACQ8J,YAAc,cACdpI,UAAab,EAAQ6E,MACrB0E,WAAa,EACbR,MAASmB,EACTtB,SAAY,SAACC,GAAD,OAAOsB,EAAQtB,EAAEC,OAAOC,UAE5C7J,EAAAC,EAAAC,cAACoL,GAAArL,EAAD,CAAYyB,QAAWwJ,EAAqBR,UAAaM,EAAKL,OAAQhJ,UAAab,EAAQiK,YACzF/K,EAAAC,EAAAC,cAACsL,GAAAvL,EAAD,QAGJD,EAAAC,EAAAC,cAACuL,GAAAxL,EAAD,kICKSI,wBAVA,SAAApB,GAAK,MAAK,CACvBqB,KAAM,CACJoF,MAAO,OACPgG,gBAAiBzM,EAAME,QAAQwM,WAAWC,OAE5CC,OAAQ,CACNrL,QAAS,YAIEH,CAjCE,SAAAQ,GAAA,IAAGC,EAAHD,EAAGC,QAAUgL,EAAbjL,EAAaiL,SAAb,OACf9L,EAAAC,EAAAC,cAAC6L,GAAA9L,EAAD,CAAM0B,UAAab,EAAQR,MACvBwL,EAASE,IAAI,SAACC,EAAUC,GAAX,OACdlM,EAAAC,EAAAC,cAACiM,GAAAlM,EAAD,CAAW4B,MAAO,CAACkB,QAAQ,GAAIb,WAAa,aAAakK,IAAOF,GAC/DlM,EAAAC,EAAAC,cAACmM,GAAApM,EAAD,KACED,EAAAC,EAAAC,cAACoM,GAAArM,EAAD,CAAQoD,IAAO4I,EAAQM,OAAO9J,QAASa,IAAO2I,EAAQM,OAAOhJ,QAE/DvD,EAAAC,EAAAC,cAACsM,GAAAvM,EAAD,CACC4B,MAAO,CAACqE,aAAa,GACrB9G,QAAW6M,EAAQjB,KACnBvL,UACEO,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,CAAYkD,UAAY,OAAOzC,MAAQ,cAAciB,UAAab,EAAQ+K,QACxEI,EAAQM,OAAOhJ,KAAM,IADvB,KAEIkJ,KAAqBC,OAAOT,EAAQU,YAFxC,gBC0CMtM,wBAjBA,SAAApB,GAAK,MAAK,CACvBqB,KAAM,CACJyC,QAAS,YACT6J,UAAW,SACXlH,MAAO,QAETvD,KAAM,CACJvB,WAAY3B,EAAMoD,QAAQC,KAC1BF,YAAanD,EAAMoD,QAAQC,MAE7B0I,KAAM,CACJxK,QAAS,OACT0B,WAAY,SACZ2B,eAAgB,YAILxD,CArDI,SAAAQ,GAAiB,IAAdC,EAAcD,EAAdC,QAAc+L,EAEhB3L,qBAAWxC,GAArBkE,MAC0D5D,WAA1DqH,EAH0BwG,EAG1BxG,MAAQQ,EAHkBgG,EAGlBhG,QAAU0F,EAHQM,EAGRN,OAASI,EAHDE,EAGCF,UAAYb,EAHbe,EAGaf,SAE/C,OACA9L,EAAAC,EAAAC,cAAA,OAAKyB,UAAab,EAAQR,MACxBN,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,CACGkD,UAAY,KAAKrB,QAAS,KAAKpB,MAAQ,UAAUuD,cAAY,GAE7DoC,GAEHrG,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,CACG0B,UAAab,EAAQkK,KACrB7H,UAAY,KAAKrB,QAAS,KAAKpB,MAAQ,UAAUuD,cAAY,GAE9DjE,EAAAC,EAAAC,cAAC4M,GAAA7M,EAAD,CAAM0B,UAAab,EAAQqB,OAJ7B,IAIwCoK,EAAOhJ,MAE/CvD,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,CACG0B,UAAab,EAAQkK,KACrBlJ,QAAS,YAAYpB,MAAQ,UAAUuD,cAAY,GAEpDjE,EAAAC,EAAAC,cAAC6M,GAAA9M,EAAD,CAAY0B,UAAab,EAAQqB,OAChC6K,KAAON,OAAOC,GAAa,iBAE9B3M,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,CACG6B,QAAS,YAAYmC,cAAY,GAEjC4C,GAGH7G,EAAAC,EAAAC,cAAC+M,GAAD,MACAjN,EAAAC,EAAAC,cAACgN,GAAD,CAAUpB,SAAYA,OCGXzL,wBAjBA,CACbC,KAAM,CACJ6M,SAAU,IACVC,SAAU,IACVC,UAAW,qBACXC,UAAW,SACX9M,QAAS,OACTqD,eAAgB,UAElB0J,WAAY,CACVH,SAAU,OACVC,UAAW,IACXG,UAAW,SACXF,UAAW,WAIAjN,CApCF,SAAAQ,GAAiB,IAKxB4M,EALU3M,EAAcD,EAAdC,QACRC,EAAaC,iCAAc,sBACzB4B,EAAU1B,qBAAWxC,GAArBkE,MACA9D,EAAuB8D,EAAvB9D,MAAQE,EAAe4D,EAAf5D,WAUhB,OAPIF,GAAUE,EAELF,IAAUE,EACjByO,EAAcC,IACN5O,GAASE,IACjByO,EAAcE,IAJdF,EAAcG,EAOhB5N,EAAAC,EAAAC,cAAC2N,GAAA,EAAD,CAAOlM,UAAaZ,EAAaD,EAAQyM,WAAazM,EAAQR,MAC1DN,EAAAC,EAAAC,cAACuN,EAAD,k/BCtBC,IAAMK,GAAyBC,KAAHC,MA2BtBC,GAA2BF,KAAHG,MAyBxBC,GAA2BJ,KAAHK,MCnC/BC,GAAkB,CACtB1G,SAAU,QACVC,WAAY,SACZ0G,KAAM,IA8MOjO,wBA/BA,CACbC,KAAM,CACJE,QAAS,QAEX+M,WAAY,CACV/M,QAAS,OACToD,cAAe,kBAEjB2K,kBAAmB,CACjBvL,SAAU,WACVwL,IAAK,EACLC,KAAM,EACN3K,OAAQ,OAEV4K,WAAY,CACVhO,MAAO,OAETiO,WAAY,CACV5L,QAAS,QACTL,OAAQ,IACRgD,MAAO,IACPkJ,UAAW,SAEbC,SAAU,CACRrO,QAAS,OACT0B,WAAY,SACZ2B,eAAgB,SAChBD,cAAe,WAIJvD,CA3MH,SAAAQ,GAAiB,IAAdC,EAAcD,EAAdC,QACRqF,EAAShC,KACPpD,EAAaC,iCAAc,sBAFPoF,EAGClF,qBAAWxC,GAAhCkE,EAHoBwD,EAGpBxD,MAAQ3B,EAHYmF,EAGZnF,SAHYmD,EAIOC,mBAASgK,IAJhB/J,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAIpB0K,EAJoBxK,EAAA,GAITyK,EAJSzK,EAAA,GAAAiC,EAKgBlC,mBAAS,MALzBmC,EAAAjC,OAAAC,EAAA,EAAAD,CAAAgC,EAAA,GAKpByI,EALoBxI,EAAA,GAKLyI,EALKzI,EAAA,GAAAG,EAMCtC,mBAAS,MANVuC,EAAArC,OAAAC,EAAA,EAAAD,CAAAoC,EAAA,GAMpBuI,EANoBtI,EAAA,GAMZuI,EANYvI,EAAA,GAQ5BjC,oBAAU,WACSuK,GAAStM,EAAM7D,KAAKqQ,UAAU,SAAAC,GAAG,OAAIA,EAAIjE,MAAQ8D,EAAM9D,OAAQ,GAE9E+D,EAAS,OAET,CAACvM,EAAM7D,KAAKuQ,SAEhB3K,oBAAU,WACT4K,KACC,IAEF5K,oBAAU,WACT6K,KACC,IAEF,IAAMA,EAAkB,WACnB,gBAAiBC,WAClBA,UAAUC,YAAYC,mBAAmB,SAAA3M,GAAY,IAAA4M,EACnB5M,EAAS6M,OAAlClI,EAD4CiI,EAC5CjI,SAAWC,EADiCgI,EACjChI,UACnBmH,EAAYxK,OAAAuL,EAAA,EAAAvL,CAAA,GAAIuK,EAAL,CAAgBnH,WAAWC,eACtCqH,EAAgB,CAAEtH,WAAWC,iBAO5B2H,EAAO,eAAA9N,EAAA8C,OAAA6C,EAAA,EAAA7C,CAAA8C,EAAApH,EAAAqH,KAAG,SAAAC,IAAA,IAAAsB,EAAA0G,EAAA,OAAAlI,EAAApH,EAAA6H,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACW9B,EAAOkC,QChDR,6RD+CV,OAAAQ,EAAAd,EAAAK,KACPmH,EADO1G,EACP0G,QACRtO,EAAS,CAAEI,KAAK,WAAa0O,QAAQR,IAFtB,wBAAAxH,EAAAS,SAAAjB,MAAH,yBAAA9F,EAAAiH,MAAAC,KAAAC,YAAA,GAsBPoH,EAAkB,SAAAX,GAEvB,OADkBY,KAAoBC,KAAKC,MAAQzD,OAAO2C,EAAI1C,aAAe,GAC3D,YAAc,YAQ3ByD,EAAe,eAAAC,EAAA9L,OAAA6C,EAAA,EAAA7C,CAAA8C,EAAApH,EAAAqH,KAAG,SAAAwB,EAAMuG,GAAN,IAAAxH,EAAA,OAAAR,EAAApH,EAAA6H,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,cAChBJ,EAAY,CAAEsD,MAAMkE,EAAIjE,KADRnC,EAAAhB,KAAA,EAEhB9B,EAAOkC,QNhEgB,yEMgEcR,GAFrB,OAGtBsH,EAAS,MAHa,wBAAAlG,EAAAT,SAAAM,MAAH,gBAAAL,GAAA,OAAA4H,EAAA3H,MAAAC,KAAAC,YAAA,GAQpB,OACE5I,EAAAC,EAAAC,cAAA,OAAKyB,UAAcZ,EAAaD,EAAQyM,WAAazM,EAAQR,MAC3DN,EAAAC,EAAAC,cAACoQ,EAAA,EAAD/L,OAAAgM,OAAA,CACA7K,MAAQ,QACRhD,OAAS,qBACT8N,SAAW,kCACXC,qBAxFc,6FAyFd/O,QA1CkB,SAAAgP,GAA4B,IAA1BC,EAA0BD,EAA1BC,OACvB,GADiDD,EAAjBE,WAChC,CACIhO,EAAM9D,OACRmC,EAAS,CAAEI,KAAM,iBAH8B,IAAAwP,EAAAtM,OAAAC,EAAA,EAAAD,CAMhBoM,EANgB,GAMzC/I,EANyCiJ,EAAA,GAM7BlJ,EAN6BkJ,EAAA,GAQhD5P,EAAS,CACPI,KAAM,wBACN0O,QAAQ,CACNnI,YACAD,gBA+BFmJ,iBAAqB,SAAAC,GAAQ,OAAIhC,EAAYgC,KACzCjC,GAEF9O,EAAAC,EAAAC,cAAA,OAAKyB,UAAab,EAAQyN,mBAC3BvO,EAAAC,EAAAC,cAACoQ,EAAA,EAAD,CACGQ,iBAAqB,SAAAC,GAAQ,OAAIhC,EAAYgC,OAG/C/B,GACAhP,EAAAC,EAAAC,cAACoQ,EAAA,EAAD,CACG3I,SAAYqH,EAAarH,SACzBC,UAAaoH,EAAapH,WAEzB5H,EAAAC,EAAAC,cAACuD,EAAD,CAASC,KAAQ,GAAIhD,MAAQ,QAC7BV,EAAAC,EAAAC,cAAA,KAAG2B,MAAO,CAACmB,SAAS,WAAa2I,WAAW,QAASjL,MAAM,QAASiC,aAAa,MAAQI,QAAQ,UAAWyL,KAAK,KAAjH,aAGJ5L,EAAM9D,OACLkB,EAAAC,EAAAC,cAACoQ,EAAA,EAAD,CACA3I,SAAY/E,EAAM9D,MAAM6I,SACxBC,UAAahF,EAAM9D,MAAM8I,WAExB5H,EAAAC,EAAAC,cAACuD,EAAD,CAASC,KAAQ,GAAIhD,MAAQ,qBAI9BkC,EAAM7D,KAAKiN,IAAI,SAAAqD,GAAG,OACnBrP,EAAAC,EAAAC,cAACoQ,EAAA,EAAD,CACAlE,IAAOiD,EAAIjE,IACXzD,SAAY0H,EAAI1H,SAChBC,UAAayH,EAAIzH,WAEhB5H,EAAAC,EAAAC,cAACuD,EAAD,CAAS/B,QAAW,kBArDJ,SAAA2N,GACtBF,EAASE,GACTpO,EAAS,CAAEI,KAAM,UAAY0O,QAASV,IAmDN2B,CAAgB3B,IAAM3L,KAAQ,GAAIhD,MAASsP,EAAgBX,QAIxFH,GACClP,EAAAC,EAAAC,cAACoQ,EAAA,EAAD,CACAW,OAAS,MACTtJ,SAAYuH,EAAMvH,SAClBC,UAAasH,EAAMtH,UACnBsJ,cAAgB,EAChBC,QAAW,kBAAMhC,EAAS,QAExBnP,EAAAC,EAAAC,cAAA,OACAyB,UAAab,EAAQ6N,WACrBtL,IAAK6L,EAAMzI,MACXnD,IAAK4L,EAAM7I,QAEXrG,EAAAC,EAAAC,cAAA,OAAKyB,UAAab,EAAQ+N,UACxB7O,EAAAC,EAAAC,cAAC2N,GAAA,EAAD,KACGqB,EAAMvH,SAASyJ,QAAQ,GAD1B,MACiClC,EAAMtH,UAAUwJ,QAAQ,IA7D1CxO,EAAMhE,YAAYwM,MAAQ8D,EAAM3C,OAAOnB,KAiEpDpL,EAAAC,EAAAC,cAACsK,EAAAvK,EAAD,CAAQyB,QAAW,kBAAM0O,EAAgBlB,KACvClP,EAAAC,EAAAC,cAACmR,GAAApR,EAAD,CAAY0B,UAAab,EAAQ4N,iBAO1C1O,EAAAC,EAAAC,cAACoR,GAAA,EAAD,CAAcC,aAAgBzD,GAC3B0D,mBAAsB,SAAAC,GAA0B,IACxCC,EADwCD,EAAvBE,iBACa5I,KAA9B2I,SACRpQ,QAAQC,IAAImQ,GACZzQ,EAAS,CAAEI,KAAK,aAAe0O,QAAS2B,OAG3C1R,EAAAC,EAAAC,cAACoR,GAAA,EAAD,CAAcC,aAAgBtD,GAC3BuD,mBAAsB,SAAAI,GAA0B,IACxCC,EADwCD,EAAvBD,iBACe5I,KAAhC8I,WACRvQ,QAAQC,IAAIsQ,GACZ5Q,EAAS,CAAEI,KAAK,iBAAmB0O,QAAS8B,OAG9C7R,EAAAC,EAAAC,cAACoR,GAAA,EAAD,CAAcC,aAAgBpD,GAC5BqD,mBAAsB,SAAAM,GAA0B,IACxCC,EADwCD,EAAvBH,iBACe5I,KAAhCgJ,WACRzQ,QAAQC,IAAIwQ,GACZ9Q,EAAS,CAAEI,KAAK,aAAe0O,QAASgC,OAG3C/R,EAAAC,EAAAC,cAAC8R,GAAD,SElLSnS,KATH,WACV,OACEG,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoL,SAAA,KACErL,EAAAC,EAAAC,cAAC+R,EAAD,MACAjS,EAAAC,EAAAC,cAACgS,GAAD,SCwDS7R,wBAVA,CACbC,KAAM,CACJoC,OAAQ,QACRlC,QAAS,OACTqD,eAAgB,SAChBD,cAAe,SACf1B,WAAY,WAID7B,CAxDD,SAAAQ,GAAiB,IAAdC,EAAcD,EAAdC,QAEPG,EAAaC,qBAAWxC,GAAxBuC,SAEJkR,EAAS,eAAA1Q,EAAA8C,OAAA6C,EAAA,EAAA7C,CAAA8C,EAAApH,EAAAqH,KAAG,SAAAC,EAAM6K,GAAN,IAAA3N,EAAA0B,EAAA0C,EAAAwJ,EAAA,OAAAhL,EAAApH,EAAA6H,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAEJvD,EAAU2N,EAAWlN,kBAAkBC,SACvCgB,EAAS,IAAIf,iBAAelB,GAAW,CAC7CmB,QAAS,CAAEC,cAAeb,KAJhBsD,EAAAE,KAAA,EAMU9B,EAAOkC,QFnBd,mEEaH,OAAAQ,EAAAd,EAAAK,KAMHiK,EANGxJ,EAMHwJ,GACRpR,EAAS,CAAEI,KAAK,aAAe0O,QAASsC,IACxCpR,EAAS,CAAEI,KAAM,eAAiB0O,QAASqC,EAAWE,eAR3CvK,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAQ,GAAAR,EAAA,SAUdwK,EAASxK,EAAAQ,IAVK,yBAAAR,EAAAS,SAAAjB,EAAA,kBAAH,gBAAAkB,GAAA,OAAAhH,EAAAiH,MAAAC,KAAAC,YAAA,GAeT2J,EAAY,SAAAC,GAChBlR,QAAQmR,MAAM,mBAAqBD,GACnCvR,EAAS,CAAEI,KAAM,eAAiB0O,SAAS,KAG3C,OACA/P,EAAAC,EAAAC,cAAA,OAAKyB,UAAab,EAAQR,MACxBN,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,CACAkD,UAAY,KACZrB,QAAU,KACVmC,cAAY,EACZb,QAAM,EACNvB,MAAO,CAACnB,MAAO,wBALf,WASFV,EAAAC,EAAAC,cAACiB,EAAA,YAAD,CACGuR,SAAS,2EACTP,UAAaA,EACb1R,WAAa,oBACb8R,UAAaA,EACbD,YAAa,EACbrT,MAAQ,sBCxCE0T,GALA,WAEb,OADkBzR,qBAAWxC,GAArBkE,MACM/D,OAASmB,EAAAC,EAAAC,cAAC0S,GAAA,EAAD,CAAUC,GAAG,MAAS7S,EAAAC,EAAAC,cAAC4S,GAAD,iBCNhC,SAASC,GAASnQ,EAAlB/B,GAA+C,IAAnBQ,EAAmBR,EAAnBQ,KAAO0O,EAAYlP,EAAZkP,QAC/C,OAAO1O,GACN,IAAK,aACD,OAAAkD,OAAAuL,EAAA,EAAAvL,CAAA,GACO3B,EADP,CAEChE,YAAYmR,IAGf,IAAK,eACF,OAAOxL,OAAAuL,EAAA,EAAAvL,CAAA,GACA3B,EADP,CAEI/D,OAAQkR,IAEf,IAAK,eACD,OAAOxL,OAAAuL,EAAA,EAAAvL,CAAA,GACF3B,EADL,CAEEhE,YAAY,KACZC,QAAQ,IAEd,IAAK,WACH,OAAA0F,OAAAuL,EAAA,EAAAvL,CAAA,GACK3B,EADL,CAEE7D,KAAMgR,IAEV,IAAK,aACH,IAAMiD,EAASjD,EACTkD,EAAWrQ,EAAM7D,KAAKmU,OAAO,SAAA7D,GAAG,OAAIA,EAAIjE,MAAQ4H,EAAO5H,MAC7D,OAAA7G,OAAAuL,EAAA,EAAAvL,CAAA,GACK3B,EADL,CAEE7D,KAAI,GAAAoU,OAAA5O,OAAA6O,GAAA,EAAA7O,CAAK0O,GAAL,CAAeD,MAEvB,IAAK,UACH,OAAOzO,OAAAuL,EAAA,EAAAvL,CAAA,GACF3B,EADL,CAEE5D,WAAY+Q,EACZjR,MAAO,OAEX,IAAK,eACD,OAAOyF,OAAAuL,EAAA,EAAAvL,CAAA,GACF3B,EADL,CAEE5D,WAAY,KACZF,MAAM,CACF6I,SAAU,EACVC,UAAW,KAGrB,IAAK,wBACL,OAAOrD,OAAAuL,EAAA,EAAAvL,CAAA,GACD3B,EADN,CAEG9D,MAAOiR,IAEV,IAAK,iBACH,IAAMsD,EAAoBtD,EACpBuD,EAAc1Q,EAAM7D,KAAKiN,IAAK,SAAAqD,GAAG,OACrCA,EAAIjE,MAAQiI,EAAkBjI,IAC7BiI,EACAhE,IAEH,OAAO9K,OAAAuL,EAAA,EAAAvL,CAAA,GACF3B,EADL,CAEE7D,KAAMuU,EACNtU,WAAYqU,IAGhB,IAAK,aACH,IAAME,EAAaxD,EACbyD,EAAe5Q,EAAM7D,KAAKmU,OAAO,SAAA7D,GAAG,OAAIA,EAAIjE,MAAQmI,EAAWnI,MACrE,GAAGxI,EAAM5D,WAEP,GADqBuU,EAAWnI,MAAQxI,EAAM5D,WAAWoM,IAEvD,OAAO7G,OAAAuL,EAAA,EAAAvL,CAAA,GACF3B,EADL,CAEI7D,KAAMyU,EACNxU,WAAY,OAIpB,OAAOuF,OAAAuL,EAAA,EAAAvL,CAAA,GACJ3B,EADH,CAEE7D,KAAMyU,IAEV,IAAK,gBACD,OAAOjP,OAAAuL,EAAA,EAAAvL,CAAA,GACF3B,EADL,CAEE9D,MAAO,OAEb,QACI,OAAO8D,iBCxEF6Q,GAVQ,SAAA5S,GAAuC,IAAzBf,EAAyBe,EAApCsC,UAAyBuQ,EAAWnP,OAAAoP,GAAA,EAAApP,CAAA1D,EAAA,eACjD+B,EAAU1B,qBAAWxC,GAArBkE,MAEb,OAAO5C,EAAAC,EAAAC,cAAE0T,EAAA,EAAFrP,OAAAgM,OAAA,CAAQ/O,OAAU,SAAAzB,GAAK,OAAK6C,EAAM/D,OAE5BmB,EAAAC,EAAAC,cAACJ,EAAcC,GADfC,EAAAC,EAAAC,cAAC0S,GAAA,EAAD,CAAUC,GAAG,aAEVa,yCCAIG,QACW,cAA7BhP,OAAOiP,SAASC,UAEe,UAA7BlP,OAAOiP,SAASC,UAEhBlP,OAAOiP,SAASC,SAASC,MACvB,2DCDN,IAAMC,GAAS,IAAIC,KAAc,CAC/BC,IAAI,6CACJC,QAAQ,CACNC,WAAW,KAITlO,GAAS,IAAImO,KAAa,CAC9BC,KAAMN,GACNO,MAAO,IAAIC,OAoBbC,IAASlT,OAAOxB,EAAAC,EAAAC,cAjBH,WACX,IAAMyU,EAAezT,qBAAWxC,GADfkW,EAEaC,qBAAY9B,GAAU4B,GAFnCG,EAAAvQ,OAAAC,EAAA,EAAAD,CAAAqQ,EAAA,GAEThS,EAFSkS,EAAA,GAED7T,EAFC6T,EAAA,GAGjB,OACE9U,EAAAC,EAAAC,cAAC6U,EAAA,EAAD,KACE/U,EAAAC,EAAAC,cAACoR,GAAA,EAAD,CAAgBnL,OAAUA,IAC1BnG,EAAAC,EAAAC,cAAC8U,EAAQC,SAAT,CAAkBpL,MAAQ,CAAEjH,QAAQ3B,aACpCjB,EAAAC,EAAAC,cAACgV,EAAA,EAAD,KACElV,EAAAC,EAAAC,cAACiV,GAAD,CAAgBC,OAAK,EAACC,KAAK,IAAIlS,UAAWmS,KAC1CtV,EAAAC,EAAAC,cAAC0T,EAAA,EAAD,CAAOyB,KAAK,SAASlS,UAAWwP,UAQxB,MAAU4C,SAASC,eAAe,SDmF5C,kBAAmB/F,WACrBA,UAAUgG,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.399580ed.chunk.js","sourcesContent":["import { createContext } from 'react'\r\n\r\nconst Context = createContext({\r\n    currentUser: null,\r\n    isAuth: false,\r\n    draft: null,\r\n    pins:[],\r\n    currentPin:null\r\n})\r\n\r\nexport default Context","import React from \"react\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport purple from \"@material-ui/core/colors/purple\";\r\nimport green from \"@material-ui/core/colors/green\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n\r\n// A theme with custom primary and secondary color.\r\n// It's optional.\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      light: purple[300],\r\n      main: purple[500],\r\n      dark: purple[700]\r\n    },\r\n    secondary: {\r\n      light: green[300],\r\n      main: green[500],\r\n      dark: green[700]\r\n    }\r\n  },\r\n  typography: {\r\n    useNextVariants: true\r\n  }\r\n});\r\n\r\nfunction withRoot(Component) {\r\n  function WithRoot(props) {\r\n    // MuiThemeProvider makes the theme available down the React tree\r\n    // thanks to React context.\r\n    return (\r\n      <MuiThemeProvider theme={theme}>\r\n        {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\r\n        {/* https://material-ui.com/getting-started/usage/#cssbaseline */}\r\n        <CssBaseline />\r\n        <Component {...props} />\r\n      </MuiThemeProvider>\r\n    );\r\n  }\r\n\r\n  return WithRoot;\r\n}\r\n\r\nexport default withRoot;\r\n","import React , { useContext } from \"react\";\r\nimport {unstable_useMediaQuery as useMediaQuery} from '@material-ui/core/useMediaQuery';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { GoogleLogout } from 'react-google-login';\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Context from '../../context'\r\n\r\nconst Signout = ({ classes }) => {\r\n  const mobileSize = useMediaQuery('(max-width: 650px)')\r\n  const { dispatch } = useContext(Context)\r\n\r\nconst onSignOut = () => {\r\n  dispatch({type: \"SIGNOUT_USER\"})\r\n  console.log(\"aaaaa\")\r\n}\r\n\r\n  return (\r\n    <GoogleLogout\r\n    onLogoutSuccess = {onSignOut}\r\n    render ={({ onClick }) => (\r\n      <span\r\n      className = {classes.root} onClick = {onClick} >\r\n       <Typography\r\n        style = {{ display: mobileSize ? 'none' : 'block'}}\r\n         variant = 'body1'\r\n         className = {classes.buttonText}\r\n         >\r\n          Signout\r\n       </Typography>\r\n       <ExitToAppIcon className = {classes.buttonIcon} />\r\n      </span>\r\n    )}\r\n     />\r\n  )\r\n};\r\n\r\nconst styles = {\r\n  root: {\r\n    cursor: \"pointer\",\r\n    display: \"flex\"\r\n  },\r\n  buttonText: {\r\n    color: \"orange\"\r\n  },\r\n  buttonIcon: {\r\n    marginLeft: \"5px\",\r\n    color: \"orange\"\r\n  }\r\n};\r\n\r\nexport default withStyles(styles)(Signout);\r\n","import React , { useContext } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport {unstable_useMediaQuery as useMediaQuery} from '@material-ui/core/useMediaQuery';\r\nimport Context from '../context'\r\nimport SignOut from '../components/Auth/Signout'\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport MapIcon from \"@material-ui/icons/Map\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst Header = ({ classes }) => {\r\n  const mobileSize = useMediaQuery('(max-width: 650px)')\r\n  const { state } = useContext(Context)\r\n  const { currentUser } = state\r\n  return (\r\n  <div  className = {classes.root}>\r\n    <AppBar style={{ borderBottom:\"1px solid black\" , padding:10}}  position = \"static\" >\r\n      <Toolbar >\r\n        {/* title logo */}\r\n        <div  className = {classes.grow}>\r\n          <MapIcon className ={classes.icon} />\r\n          <Typography\r\n           className = {mobileSize ? classes.mobile : \"\"}\r\n           component = \"h1\"\r\n           variant = \"h6\"\r\n           color=\"inherit\"\r\n           noWrap\r\n           >\r\n            GeoPins\r\n          </Typography>\r\n        </div>\r\n        {currentUser && (\r\n          <div className = {classes.grow}>\r\n           <img className = {classes.picture} \r\n                src = {currentUser.picture}\r\n                alt = {currentUser.name} />\r\n          <Typography\r\n           className = {mobileSize ? classes.mobile : \"\"}\r\n           variant = \"h5\"\r\n           color=\"inherit\"\r\n           noWrap\r\n           >\r\n           {currentUser.name}\r\n          </Typography>\r\n          </div>\r\n        )}\r\n        <SignOut />\r\n      </Toolbar>\r\n    </AppBar>\r\n    </div>\r\n  )\r\n};\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing.unit,\r\n    color: \"green\",\r\n    fontSize: 45\r\n  },\r\n  mobile: {\r\n    display: \"none\"\r\n  },\r\n  picture: {\r\n    height: \"50px\",\r\n    borderRadius: \"90%\",\r\n    marginRight: theme.spacing.unit * 2\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(Header);\r\n","import React from \"react\";\r\nimport PlaceTwoTone from \"@material-ui/icons/PlaceTwoTone\";\r\n\r\nexport default ({ size , color , onClick }) => (\r\n    <PlaceTwoTone onClick = { onClick } style = {{ fontSize: size , color }}  />\r\n)\r\n","import React from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport ExploreIcon from \"@material-ui/icons/Explore\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst NoContent = ({ classes }) => (\r\n  <div className = {classes.root}>\r\n      <ExploreIcon className = {classes.icon} />\r\n      <Typography\r\n       noWrap\r\n       component = \"h2\"\r\n       variant = 'h6'\r\n       align = \"center\"\r\n       color = \"textPrimary\"\r\n       gutterBottom\r\n      >\r\n        Click on the map to add a pin\r\n      </Typography>\r\n  </div>\r\n)\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\"\r\n  },\r\n  icon: {\r\n    margin: theme.spacing.unit,\r\n    fontSize: \"80px\"\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(NoContent);\r\n","import { useState , useEffect } from 'react'\r\nimport { GraphQLClient } from 'graphql-request'\r\n\r\nexport const BASE_URL = process.env.NODE_ENV === 'production' \r\n        ?\"https://geo-pins-anton.herokuapp.com/graphql\"\r\n        :\"http://localhost:4000/graphql\"\r\n\r\nexport const useClient = () => {\r\n    const [ idToken , setIdToken ] =  useState('')\r\n    useEffect(() => {\r\n        const token = window.gapi.auth2\r\n         .getAuthInstance()\r\n         .currentUser.get()\r\n         .getAuthResponse()\r\n         .id_token\r\n         setIdToken(token)\r\n    },[])\r\n\r\nreturn new GraphQLClient(BASE_URL , {\r\n    headers : { authorization: idToken  }\r\n  })\r\n\r\n}"," import React , { useState , useContext } from \"react\";\r\n import {unstable_useMediaQuery as useMediaQuery} from '@material-ui/core/useMediaQuery';\r\n import axios from 'axios'\r\n import { withStyles } from \"@material-ui/core/styles\";\r\n import TextField from \"@material-ui/core/TextField\";\r\n import Typography from \"@material-ui/core/Typography\";\r\n import Button from \"@material-ui/core/Button\";\r\n import AddAPhotoIcon from \"@material-ui/icons/AddAPhotoTwoTone\";\r\n import LandscapeIcon from \"@material-ui/icons/LandscapeOutlined\";\r\n import ClearIcon from \"@material-ui/icons/Clear\";\r\n import SaveIcon from \"@material-ui/icons/SaveTwoTone\";\r\n import Context from '../../context'\r\n import { CREATE_PIN_MUTATION } from '../../graphql/mutations'\r\n import { useClient } from '../../client'\r\n\r\n const CreatePin = ({ classes }) => {\r\n  const mobileSize = useMediaQuery('(max-width: 650px)')\r\n  const client = useClient()\r\n  const { state , dispatch } = useContext(Context)\r\n  const [ title , setTitle ] = useState('')\r\n  const [ image , setImage ] = useState('')\r\n  const [ content , setContent ] = useState('')\r\n  const [ submitting , setSubmitting ] = useState(false)\r\n\r\nconst handleSubmit = async(event) => {\r\n  try {\r\n    event.preventDefault()\r\n    setSubmitting(true)\r\n    const url = await handleImageUpload()\r\n\r\n    const { latitude , longitude } = state.draft\r\n\r\n    const variables = {\r\n      title,\r\n      image: url,\r\n      content,\r\n      latitude,\r\n      longitude\r\n    }\r\n\r\n    await client.request(CREATE_PIN_MUTATION , variables)\r\n    handleDiscard()\r\n\r\n  } catch (error) {\r\n    setSubmitting(false)\r\n\r\n  }\r\n\r\n}\r\n\r\nconst handleDiscard = () => {\r\n  setTitle('')\r\n  setImage('')\r\n  setContent('')\r\n  dispatch({type:'DISCARD_DRAFT'})\r\n}\r\n\r\nconst handleImageUpload = async() => {\r\n const data = new FormData()\r\n data.append('file' , image)\r\n data.append('upload_preset' , 'geopins')\r\n data.append('cloud_name' , 'djke3wknc')\r\n const res = await axios.post(\r\n   'https://api.cloudinary.com/v1_1/djke3wknc/image/upload',\r\n    data\r\n )\r\n return res.data.url\r\n}\r\n\r\n  return (\r\n    <form className = {classes.form}>\r\n       <Typography \r\n        className = {classes.alignCenter}\r\n        component = 'h2'\r\n        style={{marginBottom:20}}\r\n        variant = 'h4'\r\n        color = 'secondary'\r\n        >\r\n         <LandscapeIcon className = {classes.iconLarge} />  pin location\r\n       </Typography>\r\n       <div style = {{display:\"flex\" , flexDirection:\"column\" , justifyContent:\"center\" , alignContent:\"center\"}} className = {classes.contentField}>\r\n         <TextField\r\n         onChange = {e => setTitle(e.target.value)}\r\n          name = \"title\"\r\n          style={{display:\"flex\" , width:\"100%\", marginBottom:\"20px\"}}\r\n          label = \"title\"\r\n          placeholder = \"Insert pin title\"\r\n         />\r\n          <label\r\n          style={{display:\"flex\" ,\r\n                  marginBottom:\"20px\" ,\r\n                  color: image && \"green\",\r\n                  justifyContent:\"center\" ,\r\n                  alignContent:\"center\"}}\r\n          htmlFor = \"image\">\r\n              <AddAPhotoIcon />\r\n          </label>\r\n         <input \r\n            placeholder = \"image\"\r\n            style = {{ display:\"block\" , marginBottom:\"20px\"}}\r\n            accept = \"image/*\"\r\n            type=\"file\"\r\n            onChange = {e => setImage(e.target.files[0])}\r\n            id=\"image\" />\r\n       </div>\r\n        <div className = {classes.contentField}>\r\n          <TextField \r\n           onChange = {e => setContent(e.target.value)}\r\n           name = 'content'\r\n           label = 'Content'\r\n           multiline\r\n           rows = { mobileSize ? '3' : '6' }\r\n           margin = \"normal\"\r\n           fullWidth\r\n           variant = 'outlined'\r\n           />\r\n        </div>\r\n        <div>\r\n          <Button\r\n          onClick = {handleDiscard}\r\n           className = {classes.button}\r\n           variant = 'contained'\r\n           color = 'primary'\r\n          >\r\n            <ClearIcon\r\n             className = {classes.leftIcon}\r\n            />\r\n            Discard\r\n          </Button>\r\n          <Button\r\n           type = 'submit'\r\n           disabled = {!title.trim() || !content.trim() || !image || submitting}\r\n           onClick = {handleSubmit}\r\n           className = {classes.button}\r\n           variant = 'contained'\r\n           color = 'secondary'\r\n          >\r\n            Submit\r\n            <SaveIcon\r\n             className = {classes.rightIcon}\r\n            />\r\n          </Button>\r\n        </div>\r\n    </form>\r\n  )\r\n};\r\n\r\nconst styles = theme => ({\r\n  form: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n    paddingBottom: theme.spacing.unit\r\n  },\r\n  contentField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: \"95%\"\r\n  },\r\n  input: {\r\n    display: \"none\"\r\n  },\r\n  alignCenter: {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n  iconLarge: {\r\n    fontSize: 40,\r\n    marginRight: theme.spacing.unit\r\n  },\r\n  leftIcon: {\r\n    fontSize: 20,\r\n    marginRight: theme.spacing.unit\r\n  },\r\n  rightIcon: {\r\n    fontSize: 20,\r\n    marginLeft: theme.spacing.unit\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing.unit * 2,\r\n    marginBottom: theme.spacing.unit * 2,\r\n    marginRight: theme.spacing.unit,\r\n    marginLeft: 0\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(CreatePin);\r\n","export const CREATE_PIN_MUTATION = `\r\n mutation($title: String! , \r\n          $image: String! ,\r\n          $content: String! ,\r\n          $latitude: Float! ,\r\n          $longitude: Float! ) {\r\n   createPin(input:{\r\n       title:$title\r\n       image:$image\r\n       content:$content\r\n       latitude:$latitude\r\n       longitude:$longitude\r\n   }){\r\n    _id\r\n    createdAt\r\n    title\r\n    image\r\n    content\r\n    latitude\r\n    longitude\r\n    author{\r\n        _id\r\n        name\r\n        email\r\n        picture\r\n    }\r\n   }\r\n}\r\n`\r\n\r\nexport const DELETE_PIN_MUTATION = `\r\nmutation($pinId:ID!){\r\n  deletePin(pinId:$pinId){\r\n    _id\r\n  }\r\n}\r\n`\r\n\r\nexport const CREATE_COMMENT_MUTATION = `\r\n  mutation($pinId:ID! , $text: String!){\r\n    createComment(pinId: $pinId , text: $text){\r\n      _id\r\n      createdAt\r\n      title\r\n      content\r\n      image\r\n      latitude\r\n      longitude\r\n      author{\r\n        _id\r\n        name\r\n      }\r\n      comments{\r\n        text\r\n        createdAt\r\n        author{\r\n          name\r\n          picture\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n`","import React , { useState , useContext } from \"react\";\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport { CREATE_COMMENT_MUTATION } from '../../graphql/mutations'\r\nimport { useClient } from '../../client'\r\nimport Context from '../../context'\r\n\r\nconst CreateComment = ({ classes }) => {\r\n  const client = useClient()\r\n  const { state  } = useContext(Context)\r\n  const [ text , setText ] = useState('')\r\n\r\n const handleSubmitComment = async() => {\r\n   const variables = { pinId: state.currentPin._id , text }\r\n   await client.request(CREATE_COMMENT_MUTATION , variables)\r\n   setText('')\r\n }\r\n\r\n  return <>\r\n      <form className = {classes.form}>\r\n        <IconButton onClick = {() => setText('')} disabled = {!text.trim()} className = {classes.clearButton}>\r\n          <ClearIcon />\r\n        </IconButton>\r\n        <InputBase \r\n                placeholder = \"Add Comment\"\r\n                className = {classes.input}\r\n                multiline = {true}\r\n                value = {text}\r\n                onChange = {(e) => setText(e.target.value)}\r\n                />\r\n        <IconButton onClick = {handleSubmitComment} disabled = {!text.trim()} className = {classes.sendButton}>\r\n          <SendIcon />\r\n        </IconButton>\r\n      </form>\r\n      <Divider />\r\n  </>\r\n};\r\n\r\nconst styles = theme => ({\r\n  form: {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n  input: {\r\n    marginLeft: 8,\r\n    flex: 1\r\n  },\r\n  clearButton: {\r\n    padding: 0,\r\n    color: \"red\"\r\n  },\r\n  sendButton: {\r\n    padding: 0,\r\n    color: theme.palette.secondary.dark\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(CreateComment);\r\n","import React from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport distanceInWordsToNow from 'date-fns/distance_in_words_to_now'\r\n\r\nconst Comments = ({ classes , comments }) => (\r\n  <List className = {classes.root}>\r\n     {comments.map((comment , i) => (\r\n     <ListItem  style={{padding:0}} alignItems = \"flex-start\" key = {i}>\r\n      <ListItemAvatar>\r\n        <Avatar src = {comment.author.picture} alt = {comment.author.name} />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n       style={{marginBottom:5}}\r\n       primary = {comment.text}\r\n       secondary = {\r\n         <Typography component = \"span\" color = \"textPrimary\" className = {classes.inline}>\r\n          {comment.author.name}{\" \"}\r\n          - {distanceInWordsToNow(Number(comment.createdAt))} ago\r\n         </Typography>\r\n       }\r\n      />\r\n\r\n     </ListItem>\r\n     ))}\r\n  </List>\r\n)\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: \"100%\",\r\n    backgroundColor: theme.palette.background.paper\r\n  },\r\n  inline: {\r\n    display: \"inline\"\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(Comments);\r\n","import React , { useContext } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Context from '../../context'\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport AccessTime from \"@material-ui/icons/AccessTime\";\r\nimport Face from \"@material-ui/icons/Face\";\r\nimport format from 'date-fns/format'\r\nimport CreateComment from '../Comment/CreateComment'\r\nimport Comments from '../Comment/Comments'\r\n\r\nconst PinContent = ({ classes }) => {\r\n\r\n  const { state } = useContext(Context)\r\n  const { title , content , author , createdAt , comments } = state.currentPin\r\n\r\n  return (\r\n  <div className = {classes.root}>\r\n    <Typography\r\n       component = 'h2' variant ='h4' color = 'primary' gutterBottom\r\n    >\r\n      {title}\r\n    </Typography>\r\n    <Typography\r\n       className = {classes.text}\r\n       component = 'h3' variant ='h6' color = 'inherit' gutterBottom\r\n    >\r\n      <Face className = {classes.icon} /> { author.name }\r\n    </Typography>\r\n    <Typography\r\n       className = {classes.text}\r\n       variant ='subtitle2' color = 'inherit' gutterBottom\r\n    >\r\n      <AccessTime className = {classes.icon} />\r\n      {format(Number(createdAt) , 'MMM Do, YYYY')}\r\n    </Typography>\r\n    <Typography\r\n       variant ='subtitle1' gutterBottom\r\n    >\r\n      {content}\r\n    </Typography>\r\n\r\n    <CreateComment />\r\n    <Comments comments = {comments} />\r\n  </div>);\r\n};\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    padding: \"1em 0.5em\",\r\n    textAlign: \"center\",\r\n    width: \"100%\"\r\n  },\r\n  icon: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit\r\n  },\r\n  text: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(PinContent);\r\n","import React , { useContext } from \"react\";\r\nimport {unstable_useMediaQuery as useMediaQuery} from '@material-ui/core/useMediaQuery';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Context from '../context'\r\nimport NoContent from './Pin/NoContent'\r\nimport CreatePin from './Pin/CreatePin'\r\n import { Paper } from \"@material-ui/core\";\r\n import PinContent from './Pin/PinContent'\r\n\r\nconst Blog = ({ classes }) => {\r\n  const mobileSize = useMediaQuery('(max-width: 650px)')\r\n  const { state } = useContext(Context)\r\n  const { draft , currentPin } = state\r\n\r\n  let BlogContent;\r\n  if(!draft && !currentPin){\r\n    BlogContent = NoContent\r\n  }else if(draft && !currentPin){\r\n    BlogContent = CreatePin\r\n  }else if(!draft && currentPin){\r\n    BlogContent = PinContent\r\n  }\r\n  return (\r\n  <Paper className = {mobileSize ? classes.rootMobile : classes.root}>\r\n      <BlogContent />\r\n  </Paper>\r\n  )};\r\n\r\nconst styles = {\r\n  root: {\r\n    minWidth: 350,\r\n    maxWidth: 400,\r\n    maxHeight: \"calc(100vh - 64px)\",\r\n    overflowY: \"scroll\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\"\r\n  },\r\n  rootMobile: {\r\n    maxWidth: \"100%\",\r\n    maxHeight: 300,\r\n    overflowX: \"hidden\",\r\n    overflowY: \"scroll\"\r\n  }\r\n};\r\n\r\nexport default withStyles(styles)(Blog);\r\n","import gql from 'graphql-tag'\r\n\r\nexport const PIN_ADDED_SUBSCRIPTION = gql`\r\n  subscription{\r\n      pinAdded {\r\n        _id\r\n    createdAt\r\n    title\r\n    image\r\n    content\r\n    latitude\r\n    longitude\r\n    author{\r\n        _id\r\n        name\r\n        email\r\n        picture\r\n    }\r\n    comments{\r\n        text\r\n        createdAt\r\n        author{\r\n          name\r\n          picture\r\n        }\r\n      }\r\n  }\r\n}`\r\n\r\nexport const PIN_UPDATED_SUBSCRIPTION = gql`\r\nsubscription{\r\n pinUpdated{\r\n    _id\r\n      createdAt\r\n      title\r\n      content\r\n      image\r\n      latitude\r\n      longitude\r\n      author{\r\n        _id\r\n        name\r\n      }\r\n      comments{\r\n        text\r\n        createdAt\r\n        author{\r\n          name\r\n          picture\r\n        }\r\n      }\r\n      }\r\n}`\r\n\r\nexport const PIN_DELETED_SUBSCRIPTION = gql`\r\nsubscription{\r\n   pinDeleted {\r\n       _id\r\n   }\r\n}\r\n\r\n`","import React , { useState , useEffect , useContext } from \"react\";\r\nimport ReactMapGL , { NavigationControl , Marker , Popup  } from 'react-map-gl'\r\nimport {unstable_useMediaQuery as useMediaQuery} from '@material-ui/core/useMediaQuery';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Context from '../context'\r\nimport PinIcon from './PinIcon'\r\nimport Blog from './Blog'\r\nimport { useClient } from '../client'\r\nimport { GET_PINS_QUERY } from '../graphql/queries'\r\nimport { DELETE_PIN_MUTATION } from '../graphql/mutations'\r\nimport differenceInMinutes from 'date-fns/difference_in_minutes'\r\nimport { Typography } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DeleteIcon from \"@material-ui/icons/DeleteTwoTone\";\r\nimport { Subscription } from 'react-apollo'\r\nimport { PIN_ADDED_SUBSCRIPTION , PIN_UPDATED_SUBSCRIPTION , \r\n         PIN_DELETED_SUBSCRIPTION  } from '../graphql/subscriptions'\r\n\r\nconst accessToken = \"pk.eyJ1Ijoic3NhYXZ2YWEiLCJhIjoiY2p6cjF5bnhkMTJ3NDNsbnAzMmQ3b2o5MSJ9.mqQ7_qclr3C1RJzbz-c2ww\"\r\nconst initialViewport = {\r\n  latitude: 37.7577,\r\n  longitude: -122.4376,\r\n  zoom: 13\r\n}\r\n\r\nconst Map = ({ classes }) => {\r\n const client = useClient()\r\n const   mobileSize = useMediaQuery('(max-width: 650px)')\r\n const { state , dispatch } = useContext(Context)\r\n const [ viewPort , setViewPort ] = useState(initialViewport)\r\n const [ userPosition , setUserPosition ] =  useState(null)\r\n const [ popup , setPopup ] = useState(null)\r\n\r\n useEffect(() => {\r\n   const pinExist = popup && state.pins.findIndex(pin => pin._id === popup._id) > -1\r\n   if(!pinExist){\r\n     setPopup(null)\r\n   }\r\n } , [state.pins.length])\r\n\r\n useEffect(() => {\r\n  getPins()\r\n },[])\r\n\r\n useEffect(() => {\r\n  getUserPosition()\r\n },[])\r\n\r\n const getUserPosition = () => {\r\n   if('geolocation' in navigator){\r\n     navigator.geolocation.getCurrentPosition(position => {\r\n      const { latitude , longitude } = position.coords\r\n      setViewPort({...viewPort , latitude , longitude })\r\n      setUserPosition({ latitude , longitude })\r\n     })\r\n   }\r\n }\r\n\r\n\r\n\r\n const getPins = async() => {\r\n  const { getPins } = await client.request(GET_PINS_QUERY)\r\n  dispatch({ type:\"GET_PINS\" , payload:getPins })\r\n }\r\n\r\n const handleMapClick = ({lngLat , leftButton }) => {\r\n   if(!leftButton) return \r\n   if(!state.draft){\r\n     dispatch({ type: \"CREATE_DRAFT\" })\r\n   }\r\n\r\n   const [ longitude , latitude ] = lngLat\r\n\r\n    dispatch({\r\n      type: \"UPDATE_DRAFT_LOCATION\",\r\n      payload:{\r\n        longitude,\r\n        latitude\r\n      } })\r\n\r\n }\r\n\r\n const highLightNewPin = pin => {\r\n  const isNewPin =  differenceInMinutes(Date.now() , Number(pin.createdAt)) <= 30\r\n  return isNewPin ? 'limegreen' : \"darkblue\";\r\n }\r\n\r\n const handleSelectPin = pin => {\r\n   setPopup(pin)\r\n   dispatch({ type: \"SET_PIN\" , payload: pin })\r\n }\r\n\r\n const handleDeletePin = async pin => {\r\n   const variables = { pinId:pin._id }\r\n   await client.request(DELETE_PIN_MUTATION , variables )\r\n   setPopup(null)\r\n }\r\n\r\n const isAuthUser = () => state.currentUser._id === popup.author._id\r\n\r\n  return (\r\n    <div className = { mobileSize ? classes.rootMobile : classes.root} >\r\n      <ReactMapGL\r\n      width = \"100vw\"\r\n      height = \"calc(100vh - 64px)\"\r\n      mapStyle = \"mapbox://styles/mapbox/basic-v9\"\r\n      mapboxApiAccessToken = {accessToken}\r\n      onClick = {handleMapClick}\r\n      onViewportChange = { viewport => setViewPort(viewport)}\r\n      {...viewPort}\r\n      >\r\n        <div className = {classes.navigationControl}>\r\n       <NavigationControl\r\n          onViewportChange = { viewport => setViewPort(viewport)}\r\n       />\r\n       </div>\r\n       {userPosition && (\r\n        <Marker\r\n           latitude = {userPosition.latitude}\r\n           longitude = {userPosition.longitude}\r\n          >\r\n            <PinIcon size = {40} color = \"red\" />\r\n            <p style={{position:\"relative\" , background:\"black\", color:\"white\", borderRadius:\"4px\" , padding:\"3px 7px\", top:-20}}>you here</p>\r\n        </Marker>\r\n       )}\r\n       {state.draft && (\r\n         <Marker\r\n         latitude = {state.draft.latitude}\r\n         longitude = {state.draft.longitude}\r\n        >\r\n          <PinIcon size = {40} color = \"rgba(0,0,0,0.5)\" />\r\n      </Marker>\r\n       )}\r\n\r\n       { state.pins.map(pin => \r\n        <Marker\r\n        key = {pin._id}\r\n        latitude = {pin.latitude}\r\n        longitude = {pin.longitude}\r\n       >\r\n         <PinIcon onClick = {() => handleSelectPin(pin)} size = {40} color = {highLightNewPin(pin)} />\r\n     </Marker>\r\n     )}\r\n\r\n     {popup && (\r\n       <Popup\r\n       anchor = \"top\"\r\n       latitude = {popup.latitude}\r\n       longitude = {popup.longitude}\r\n       closeOnClick = {false}\r\n       onClose = {() => setPopup(null)}\r\n       >\r\n         <img \r\n         className = {classes.popupImage}\r\n         src={popup.image}\r\n         alt={popup.title}\r\n         />\r\n         <div className = {classes.popupTab}>\r\n           <Typography>\r\n             {popup.latitude.toFixed(6)} , {popup.longitude.toFixed(6)}\r\n\r\n           </Typography>\r\n           {isAuthUser() && (\r\n             <Button onClick = {() => handleDeletePin(popup) }>\r\n               <DeleteIcon className = {classes.deleteIcon} />\r\n             </Button>\r\n           )}\r\n         </div>\r\n       </Popup>\r\n     )}\r\n      </ReactMapGL>\r\n      <Subscription subscription = {PIN_ADDED_SUBSCRIPTION}\r\n         onSubscriptionData = {({ subscriptionData }) => {\r\n         const { pinAdded } = subscriptionData.data\r\n         console.log(pinAdded)\r\n         dispatch({ type:\"CREATE_PIN\" , payload: pinAdded})\r\n      }}\r\n      />\r\n      <Subscription subscription = {PIN_UPDATED_SUBSCRIPTION}\r\n         onSubscriptionData = {({ subscriptionData }) => {\r\n         const { pinUpdated } = subscriptionData.data\r\n         console.log(pinUpdated)\r\n         dispatch({ type:\"CREATE_COMMENT\" , payload: pinUpdated})\r\n      }}\r\n      />\r\n       <Subscription subscription = {PIN_DELETED_SUBSCRIPTION}\r\n         onSubscriptionData = {({ subscriptionData }) => {\r\n         const { pinDeleted } = subscriptionData.data\r\n         console.log(pinDeleted)\r\n         dispatch({ type:\"DELETE_PIN\" , payload: pinDeleted})\r\n      }}\r\n      />\r\n      <Blog />\r\n    </div>\r\n  )\r\n};\r\n\r\nconst styles = {\r\n  root: {\r\n    display: \"flex\"\r\n  },\r\n  rootMobile: {\r\n    display: \"flex\",\r\n    flexDirection: \"column-reverse\"\r\n  },\r\n  navigationControl: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    margin: \"1em\"\r\n  },\r\n  deleteIcon: {\r\n    color: \"red\"\r\n  },\r\n  popupImage: {\r\n    padding: \"0.4em\",\r\n    height: 200,\r\n    width: 200,\r\n    objectFit: \"cover\"\r\n  },\r\n  popupTab: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    flexDirection: \"column\"\r\n  }\r\n};\r\n\r\nexport default withStyles(styles)(Map);\r\n","export const ME_QUERY =`\r\n{\r\n  me{\r\n    _id\r\n    name\r\n    email\r\n    picture\r\n  }\r\n}\r\n`\r\n\r\n\r\n\r\nexport const GET_PINS_QUERY =`\r\n{\r\n  getPins{\r\n   _id\r\n   createdAt\r\n   title\r\n   image\r\n   content\r\n   latitude\r\n   longitude\r\n   author{\r\n     _id\r\n     name\r\n     email\r\n     picture\r\n   }\r\n   comments{\r\n     text\r\n     createdAt\r\n     author{\r\n       _id\r\n       name\r\n       picture\r\n     }\r\n   }\r\n }\r\n }\r\n`","import React from \"react\";\r\nimport withRoot from \"../withRoot\";\r\nimport Header from '../components/Header'\r\nimport Map from '../components/Map'\r\n\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Map />\r\n    </>\r\n  )\r\n};\r\n\r\nexport default withRoot(App);\r\n","import React , { useContext } from \"react\";\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport { GraphQLClient } from 'graphql-request'\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Context from '../../context'\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { ME_QUERY } from '../../graphql/queries'\r\nimport { BASE_URL } from '../../client'\r\n\r\nconst Login = ({ classes }) => {\r\n\r\n  const { dispatch } = useContext(Context)\r\n\r\nconst onSuccess = async googleUser => {\r\n  try {\r\n        const idToken = googleUser.getAuthResponse().id_token\r\n        const client = new GraphQLClient( BASE_URL , {\r\n        headers: { authorization: idToken }\r\n       })\r\n       const { me } = await client.request(ME_QUERY)\r\n       dispatch({ type:\"LOGIN_USER\" , payload: me })\r\n       dispatch({ type: \"IS_LOGGED_IN\" , payload: googleUser.isSignedIn() })\r\n  } catch (error) {\r\n    onFailure(error)\r\n  }\r\n\r\n}\r\n\r\nconst onFailure = err => {\r\n  console.error(\"Error logging in\" , err)\r\n  dispatch({ type: \"IS_LOGGED_IN\" , payload: false })\r\n}\r\n\r\n  return(\r\n  <div className = {classes.root}>\r\n    <Typography\r\n    component = 'h1'\r\n    variant = 'h3'\r\n    gutterBottom\r\n    noWrap\r\n    style={{color: \"rgb(66 , 133 , 244)\"}}\r\n    >\r\n      Welcome\r\n    </Typography>\r\n  <GoogleLogin\r\n     clientId=\"762121506690-efhssnl1fdjep8gcb98j4n1riqj5b9j0.apps.googleusercontent.com\"\r\n     onSuccess = {onSuccess}\r\n     buttonText = \"Login with Google\"\r\n     onFailure = {onFailure}\r\n     isSignedIn ={true}\r\n     theme = \"dark\"\r\n    />\r\n    </div>\r\n)}\r\n\r\nconst styles = {\r\n  root: {\r\n    height: \"100vh\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\"\r\n  }\r\n};\r\n\r\nexport default withStyles(styles)(Login);\r\n","import React , { useContext } from \"react\";\r\nimport Login from '../components/Auth/Login'\r\nimport Context from '../context'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst Splash = () => {\r\n  const { state } = useContext(Context)\r\n  return  state.isAuth ? <Redirect to='/' /> : <Login />\r\n};\r\n\r\nexport default Splash;\r\n","\r\nexport default function reducer( state , { type , payload } ) {\r\n   switch(type){\r\n    case \"LOGIN_USER\":\r\n        return{ \r\n            ...state ,\r\n         currentUser:payload\r\n      };\r\n\r\n      case \"IS_LOGGED_IN\":\r\n         return {\r\n             ...state,\r\n             isAuth: payload\r\n         }\r\n      case \"SIGNOUT_USER\":\r\n          return {\r\n            ...state,\r\n            currentUser:null,\r\n            isAuth: false\r\n          }\r\n      case \"GET_PINS\":\r\n        return{\r\n          ...state,\r\n          pins: payload\r\n        }\r\n      case \"CREATE_PIN\":\r\n        const newPin = payload\r\n        const prevPins = state.pins.filter(pin => pin._id !== newPin._id)\r\n        return{\r\n          ...state,\r\n          pins:[...prevPins, newPin]\r\n        }\r\n      case \"SET_PIN\":\r\n        return {\r\n          ...state,\r\n          currentPin: payload,\r\n          draft: null\r\n        }\r\n      case \"CREATE_DRAFT\":\r\n          return {\r\n            ...state,\r\n            currentPin: null,\r\n            draft:{\r\n                latitude: 0,\r\n                longitude: 0\r\n            }\r\n          }\r\n      case \"UPDATE_DRAFT_LOCATION\":\r\n      return {\r\n         ...state,\r\n         draft: payload\r\n      }\r\n      case \"CREATE_COMMENT\":\r\n        const updatedCurrentPin = payload\r\n        const updatedPins = state.pins.map( pin => \r\n          pin._id === updatedCurrentPin._id \r\n          ?updatedCurrentPin\r\n          :pin\r\n        )\r\n        return {\r\n          ...state,\r\n          pins: updatedPins,\r\n          currentPin: updatedCurrentPin\r\n\r\n        }\r\n      case \"DELETE_PIN\":\r\n        const deletedPin = payload\r\n        const filteredPins = state.pins.filter(pin => pin._id !== deletedPin._id)\r\n        if(state.currentPin){\r\n          const isCurrentPin = deletedPin._id === state.currentPin._id\r\n          if(isCurrentPin){\r\n            return {\r\n              ...state,\r\n                pins: filteredPins,\r\n                currentPin: null\r\n              }\r\n          }\r\n        }\r\n        return {\r\n        ...state,\r\n          pins: filteredPins\r\n        }\r\n      case \"DISCARD_DRAFT\":\r\n          return {\r\n            ...state,\r\n            draft: null\r\n          }\r\n      default:\r\n          return state;\r\n  }\r\n}","import React , { useContext } from 'react'\r\nimport Context from './context'\r\nimport { Route , Redirect } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\r\n     const { state } = useContext(Context)\r\n\r\nreturn < Route render ={ props => !state.isAuth\r\n           ? <Redirect to=\"/login\" />\r\n           : <Component {...props} />}\r\n           { ...rest }\r\n           />\r\n}\r\n\r\nexport default ProtectedRoute","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React , { useContext , useReducer } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Context from './context'\r\nimport App from \"./pages/App\";\r\nimport Splash from \"./pages/Splash\";\r\nimport reducer from './reducer'\r\nimport ProtectedRoute from './ProtectedRoute'\r\nimport { ApolloProvider } from 'react-apollo'\r\nimport { ApolloClient } from 'apollo-client'\r\nimport { WebSocketLink } from 'apollo-link-ws'\r\nimport { InMemoryCache } from 'apollo-cache-inmemory'\r\n\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\n\r\nconst wsLink = new WebSocketLink({\r\n  uri:'wss://geo-pins-anton.herokuapp.com/graphql',\r\n  options:{\r\n    reconnect: true\r\n  }\r\n})\r\n\r\nconst client = new ApolloClient({\r\n  link: wsLink,\r\n  cache: new InMemoryCache()\r\n})\r\n\r\nconst Root = () => {\r\n  const initialState = useContext(Context)\r\n  const [ state , dispatch ] =  useReducer( reducer , initialState )\r\n  return (\r\n    <Router>\r\n      <ApolloProvider client = {client}>\r\n      <Context.Provider value ={{ state , dispatch }} >\r\n      <Switch>\r\n        <ProtectedRoute exact path=\"/\" component={App} />\r\n        <Route path=\"/login\" component={Splash} />\r\n      </Switch>\r\n      </Context.Provider>\r\n      </ApolloProvider>\r\n    </Router>\r\n  );\r\n};\r\n\r\nReactDOM.render(<Root />, document.getElementById(\"root\"));\r\n\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}