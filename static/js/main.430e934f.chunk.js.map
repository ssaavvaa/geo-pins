{"version":3,"sources":["context.js","components/Auth/Signout.js","components/Header.js","client.js","graphql/subscriptions.js","components/PinIcon.js","components/Pin/NoContent.js","components/Pin/CreatePin.js","graphql/mutations.js","components/Comment/CreateComment.js","components/Comment/Comments.js","components/Pin/PinContent.js","components/Blog.js","components/Map.js","graphql/queries.js","withRoot.js","pages/App.js","components/Auth/Login.js","pages/Splash.js","ProtectedRoute.js","reducer.js","serviceWorker.js","index.js"],"names":["Context","createContext","currentUser","isAuth","draft","pins","currentPin","withStyles","root","cursor","display","buttonText","color","buttonIcon","marginLeft","_ref","classes","mobileSize","useMediaQuery","dispatch","useContext","react_default","a","createElement","google_login","onLogoutSuccess","type","console","log","render","_ref2","onClick","className","Typography_default","style","variant","ExitToApp_default","theme","flexGrow","grow","alignItems","icon","marginRight","spacing","unit","fontSize","mobile","picture","height","borderRadius","state","AppBar_default","position","Toolbar_default","Map_default","component","noWrap","src","alt","name","Auth_Signout","BASE_URL","useClient","_useState","useState","_useState2","Object","slicedToArray","idToken","setIdToken","useEffect","token","window","gapi","auth2","getAuthInstance","get","getAuthResponse","id_token","GraphQLClient","headers","authorization","PIN_ADDED_SUBSCRIPTION","gql","_templateObject","PIN_UPDATED_SUBSCRIPTION","_templateObject2","PIN_DELETED_SUBSCRIPTION","_templateObject3","PinIcon","size","PlaceTwoTone_default","flexDirection","justifyContent","margin","Explore_default","align","gutterBottom","form","paddingBottom","contentField","width","input","alignCenter","iconLarge","leftIcon","rightIcon","button","marginTop","marginBottom","client","_useContext","title","setTitle","_useState3","_useState4","image","setImage","_useState5","_useState6","content","setContent","_useState7","_useState8","submitting","setSubmitting","handleDeleteDraft","handleImageUpload","asyncToGenerator","regenerator_default","mark","_callee","data","res","wrap","_context","prev","next","FormData","append","axios","post","sent","abrupt","url","stop","apply","this","arguments","handleSubmit","_ref3","_callee2","event","_state$draft","latitude","longitude","variables","_context2","preventDefault","request","t0","error","_x","LandscapeOutlined_default","TextField_default","label","placeholder","onChange","e","target","value","accept","id","files","htmlFor","Button_default","AddAPhotoTwoTone_default","multiline","rows","fullWidth","Clear_default","disabled","trim","SaveTwoTone_default","flex","clearButton","padding","sendButton","palette","secondary","dark","comment","setComment","handleSubmitComment","pinId","_id","text","Fragment","IconButton_default","InputBase_default","Send_default","Divider_default","backgroundColor","background","paper","inline","comments","List_default","map","i","ListItem_default","key","ListItemAvatar_default","Avatar_default","author","ListItemText_default","primary","distanceInWordsToNow","Number","createdAt","textAlign","_state$currentPin","Face_default","AccessTime_default","format","Comment_CreateComment","Comment_Comments","minWidth","maxWidth","maxHeight","overflowY","rootMobile","overflowX","BlogContent","CreatePin","PinContent","NoContent","index_es","INITIAL_VIEWPORT","zoom","navigationControl","top","left","deleteIcon","popupImage","objectFit","popupTab","getPins","viewport","setViewport","userPosition","setUserPosition","getUserPosition","popup","setPopup","findIndex","pin","length","navigator","geolocation","getCurrentPosition","_position$coords","coords","objectSpread","payload","highlightNewPin","differenceInMinutes","Date","now","handleDeletePin","_ref5","esm","assign","mapStyle","mapboxApiAccessToken","scrollZoom","onViewportChange","newViewport","_ref4","lngLat","leftButton","_lngLat","offsetLeft","offsetTop","handleSelectPin","anchor","closeOnClick","onClose","toFixed","DeleteTwoTone_default","react_apollo_esm","subscription","onSubscriptionData","_ref6","pinAdded","subscriptionData","_ref7","pinUpdated","_ref8","pinDeleted","components_Blog","createMuiTheme","light","purple","main","green","typography","useNextVariants","withRoot","Component","props","styles","CssBaseline_default","components_Header","components_Map","onSuccess","googleUser","me","isSignedIn","onFailure","err","clientId","Splash","Redirect","to","Auth_Login","ProtectedRoute","rest","objectWithoutProperties","Route","reducer","newPin","prevPins","filter","concat","toConsumableArray","deletedPin","filteredPins","updatedCurrentPin","updatedPins","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","catch","wsLink","WebSocketLink","uri","options","reconnect","ApolloClient","link","cache","InMemoryCache","ReactDOM","initialState","_useReducer","useReducer","_useReducer2","BrowserRouter","context","Provider","Switch","src_ProtectedRoute","exact","path","App","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.430e934f.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nconst Context = createContext({\n  currentUser: null,\n  isAuth: false,\n  draft: null,\n  pins: [],\n  currentPin: null\n});\n\nexport default Context;\n","import React, { useContext } from \"react\";\nimport { GoogleLogout } from \"react-google-login\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { unstable_useMediaQuery as useMediaQuery } from \"@material-ui/core/useMediaQuery\";\n\nimport Context from \"../../context\";\n\nconst Signout = ({ classes }) => {\n  const mobileSize = useMediaQuery(\"(max-width: 650px)\");\n  const { dispatch } = useContext(Context);\n\n  const onSignout = () => {\n    dispatch({ type: \"SIGNOUT_USER\" });\n    console.log(\"Signed out user\");\n  };\n\n  return (\n    <GoogleLogout\n      onLogoutSuccess={onSignout}\n      render={({ onClick }) => (\n        <span className={classes.root} onClick={onClick}>\n          <Typography\n            style={{ display: mobileSize ? \"none\" : \"block\" }}\n            variant=\"body1\"\n            className={classes.buttonText}\n          >\n            Signout\n          </Typography>\n          <ExitToAppIcon className={classes.buttonIcon} />\n        </span>\n      )}\n    />\n  );\n};\n\nconst styles = {\n  root: {\n    cursor: \"pointer\",\n    display: \"flex\"\n  },\n  buttonText: {\n    color: \"orange\"\n  },\n  buttonIcon: {\n    marginLeft: \"5px\",\n    color: \"orange\"\n  }\n};\n\nexport default withStyles(styles)(Signout);\n","import React, { useContext } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport MapIcon from \"@material-ui/icons/Map\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { unstable_useMediaQuery as useMediaQuery } from \"@material-ui/core/useMediaQuery\";\n\nimport Context from \"../context\";\nimport Signout from \"../components/Auth/Signout\";\n\nconst Header = ({ classes }) => {\n  const mobileSize = useMediaQuery(\"(max-width: 650px)\");\n  const { state } = useContext(Context);\n  const { currentUser } = state;\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          {/* Title / Logo */}\n          <div className={classes.grow}>\n            <MapIcon className={classes.icon} />\n            <Typography\n              className={mobileSize ? classes.mobile : \"\"}\n              component=\"h1\"\n              variant=\"h6\"\n              color=\"inherit\"\n              noWrap\n            >\n              GeoPins\n            </Typography>\n          </div>\n\n          {/* Current User Info */}\n          {currentUser && (\n            <div className={classes.grow}>\n              <img\n                className={classes.picture}\n                src={currentUser.picture}\n                alt={currentUser.name}\n              />\n              <Typography\n                className={mobileSize ? classes.mobile : \"\"}\n                variant=\"h5\"\n                color=\"inherit\"\n                noWrap\n              >\n                {currentUser.name}\n              </Typography>\n            </div>\n          )}\n\n          {/* Signout Button */}\n          <Signout />\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1\n  },\n  grow: {\n    flexGrow: 1,\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  icon: {\n    marginRight: theme.spacing.unit,\n    color: \"green\",\n    fontSize: 45\n  },\n  mobile: {\n    display: \"none\"\n  },\n  picture: {\n    height: \"50px\",\n    borderRadius: \"90%\",\n    marginRight: theme.spacing.unit * 2\n  }\n});\n\nexport default withStyles(styles)(Header);\n","import { useState, useEffect } from \"react\";\nimport { GraphQLClient } from \"graphql-request\";\n\nexport const BASE_URL =\n  process.env.NODE_ENV === \"production\"\n    ? \"https://geo-pins-anton.herokuapp.com/graphql\"\n    : \"http://localhost:4000/graphql\";\n\nexport const useClient = () => {\n  const [idToken, setIdToken] = useState(\"\");\n\n  useEffect(() => {\n    const token = window.gapi.auth2\n      .getAuthInstance()\n      .currentUser.get()\n      .getAuthResponse().id_token;\n    setIdToken(token);\n  }, []);\n\n  return new GraphQLClient(BASE_URL, {\n    headers: { authorization: idToken }\n  });\n};\n","import gql from \"graphql-tag\";\n\nexport const PIN_ADDED_SUBSCRIPTION = gql`\n  subscription {\n    pinAdded {\n      _id\n      createdAt\n      title\n      image\n      content\n      latitude\n      longitude\n      author {\n        _id\n        name\n        email\n        picture\n      }\n      comments {\n        text\n        createdAt\n        author {\n          name\n          picture\n        }\n      }\n    }\n  }\n`;\n\nexport const PIN_UPDATED_SUBSCRIPTION = gql`\n  subscription {\n    pinUpdated {\n      _id\n      createdAt\n      title\n      content\n      image\n      latitude\n      longitude\n      author {\n        _id\n        name\n      }\n      comments {\n        text\n        createdAt\n        author {\n          name\n          picture\n        }\n      }\n    }\n  }\n`;\n\nexport const PIN_DELETED_SUBSCRIPTION = gql`\n  subscription {\n    pinDeleted {\n      _id\n    }\n  }\n`;\n","import React from \"react\";\nimport PlaceTwoTone from \"@material-ui/icons/PlaceTwoTone\";\n\nexport default ({ size, color, onClick }) => (\n  <PlaceTwoTone onClick={onClick} style={{ fontSize: size, color }} />\n);\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport ExploreIcon from \"@material-ui/icons/Explore\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst NoContent = ({ classes }) => (\n  <div className={classes.root}>\n    <ExploreIcon className={classes.icon} />\n    <Typography\n      noWrap\n      component=\"h2\"\n      variant=\"h6\"\n      align=\"center\"\n      color=\"textPrimary\"\n      gutterBottom\n    >\n      Click on the map to add a pin\n    </Typography>\n  </div>\n);\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  icon: {\n    margin: theme.spacing.unit,\n    fontSize: \"80px\"\n  }\n});\n\nexport default withStyles(styles)(NoContent);\n","import React, { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport AddAPhotoIcon from \"@material-ui/icons/AddAPhotoTwoTone\";\nimport LandscapeIcon from \"@material-ui/icons/LandscapeOutlined\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport SaveIcon from \"@material-ui/icons/SaveTwoTone\";\nimport { unstable_useMediaQuery as useMediaQuery } from \"@material-ui/core/useMediaQuery\";\n\nimport Context from \"../../context\";\nimport { useClient } from \"../../client\";\nimport { CREATE_PIN_MUTATION } from \"../../graphql/mutations\";\n\nconst CreatePin = ({ classes }) => {\n  const mobileSize = useMediaQuery(\"(max-width: 650px)\");\n  const client = useClient();\n  const { state, dispatch } = useContext(Context);\n  const [title, setTitle] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n\n  const handleDeleteDraft = () => {\n    setTitle(\"\");\n    setImage(\"\");\n    setContent(\"\");\n    dispatch({ type: \"DELETE_DRAFT\" });\n  };\n\n  const handleImageUpload = async () => {\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\"upload_preset\", \"geopins\");\n    data.append(\"cloud_name\", \"reedbargercodes\");\n    const res = await axios.post(\n      \"https://api.cloudinary.com/v1_1/reedbargercodes/image/upload\",\n      data\n    );\n    return res.data.url;\n  };\n\n  const handleSubmit = async event => {\n    try {\n      event.preventDefault();\n      setSubmitting(true);\n      const url = await handleImageUpload();\n      const { latitude, longitude } = state.draft;\n      const variables = { title, image: url, content, latitude, longitude };\n      await client.request(CREATE_PIN_MUTATION, variables);\n      handleDeleteDraft();\n    } catch (err) {\n      setSubmitting(false);\n      console.error(\"Error creating pin\", err);\n    }\n  };\n\n  return (\n    <form className={classes.form}>\n      <Typography\n        className={classes.alignCenter}\n        component=\"h2\"\n        variant=\"h4\"\n        color=\"secondary\"\n      >\n        <LandscapeIcon className={classes.iconLarge} /> Pin Location\n      </Typography>\n      <div>\n        <TextField\n          name=\"title\"\n          label=\"Title\"\n          placeholder=\"Insert pin title\"\n          onChange={e => setTitle(e.target.value)}\n        />\n        <input\n          accept=\"image/*\"\n          id=\"image\"\n          type=\"file\"\n          className={classes.input}\n          onChange={e => setImage(e.target.files[0])}\n        />\n        <label htmlFor=\"image\">\n          <Button\n            style={{ color: image && \"green\" }}\n            component=\"span\"\n            size=\"small\"\n            className={classes.button}\n          >\n            <AddAPhotoIcon />\n          </Button>\n        </label>\n      </div>\n      <div className={classes.contentField}>\n        <TextField\n          name=\"content\"\n          label=\"Content\"\n          multiline\n          rows={mobileSize ? \"3\" : \"6\"}\n          margin=\"normal\"\n          fullWidth\n          variant=\"outlined\"\n          onChange={e => setContent(e.target.value)}\n        />\n      </div>\n      <div>\n        <Button\n          onClick={handleDeleteDraft}\n          className={classes.button}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          <ClearIcon className={classes.leftIcon} />\n          Discard\n        </Button>\n        <Button\n          type=\"submit\"\n          className={classes.button}\n          variant=\"contained\"\n          color=\"secondary\"\n          disabled={!title.trim() || !content.trim() || !image || submitting}\n          onClick={handleSubmit}\n        >\n          Submit\n          <SaveIcon className={classes.rightIcon} />\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nconst styles = theme => ({\n  form: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    paddingBottom: theme.spacing.unit\n  },\n  contentField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: \"95%\"\n  },\n  input: {\n    display: \"none\"\n  },\n  alignCenter: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  iconLarge: {\n    fontSize: 40,\n    marginRight: theme.spacing.unit\n  },\n  leftIcon: {\n    fontSize: 20,\n    marginRight: theme.spacing.unit\n  },\n  rightIcon: {\n    fontSize: 20,\n    marginLeft: theme.spacing.unit\n  },\n  button: {\n    marginTop: theme.spacing.unit * 2,\n    marginBottom: theme.spacing.unit * 2,\n    marginRight: theme.spacing.unit,\n    marginLeft: 0\n  }\n});\n\nexport default withStyles(styles)(CreatePin);\n","export const CREATE_PIN_MUTATION = `\n  mutation($title: String!, $image: String!, $content: String!, $latitude: Float!, $longitude: Float!) {\n    createPin(input: {\n      title: $title,\n      image: $image,\n      content: $content,\n      latitude: $latitude,\n      longitude: $longitude\n    }) {\n      _id\n      createdAt\n      title \n      image\n      content\n      latitude\n      longitude\n      author {\n        _id\n        name\n        email\n        picture\n      }\n    }\n  }\n`;\n\nexport const DELETE_PIN_MUTATION = `\n  mutation($pinId: ID!) {\n    deletePin(pinId: $pinId) {\n      _id\n    }\n  }\n`;\n\nexport const CREATE_COMMENT_MUTATION = `\n  mutation($pinId: ID!, $text: String!) {\n    createComment(pinId: $pinId, text: $text) {\n      _id\n      createdAt\n      title\n      content\n      image\n      latitude\n      longitude\n      author {\n        _id\n        name\n      }\n      comments {\n        text\n        createdAt\n        author {\n          name\n          picture\n        }\n      }\n    }\n  }\n`;\n","import React, { useState, useContext } from \"react\";\nimport { withStyles } from \"@material-ui/core\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport { CREATE_COMMENT_MUTATION } from \"../../graphql/mutations\";\nimport { useClient } from \"../../client\";\nimport Context from \"../../context\";\n\nconst CreateComment = ({ classes }) => {\n  const client = useClient();\n  const { state } = useContext(Context);\n  const [comment, setComment] = useState(\"\");\n\n  const handleSubmitComment = async () => {\n    const variables = { pinId: state.currentPin._id, text: comment };\n    await client.request(CREATE_COMMENT_MUTATION, variables);\n    setComment(\"\");\n  };\n\n  return (\n    <>\n      <form className={classes.form}>\n        <IconButton\n          onClick={() => setComment(\"\")}\n          disabled={!comment.trim()}\n          className={classes.clearButton}\n        >\n          <ClearIcon />\n        </IconButton>\n        <InputBase\n          className={classes.input}\n          placeholder=\"Add Comment\"\n          multiline={true}\n          value={comment}\n          onChange={e => setComment(e.target.value)}\n        />\n        <IconButton\n          onClick={handleSubmitComment}\n          disabled={!comment.trim()}\n          className={classes.sendButton}\n        >\n          <SendIcon />\n        </IconButton>\n      </form>\n      <Divider />\n    </>\n  );\n};\n\nconst styles = theme => ({\n  form: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  input: {\n    marginLeft: 8,\n    flex: 1\n  },\n  clearButton: {\n    padding: 0,\n    color: \"red\"\n  },\n  sendButton: {\n    padding: 0,\n    color: theme.palette.secondary.dark\n  }\n});\n\nexport default withStyles(styles)(CreateComment);\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport distanceInWordsToNow from \"date-fns/distance_in_words_to_now\";\n\nconst Comments = ({ comments, classes }) => (\n  <List className={classes.root}>\n    {comments.map((comment, i) => (\n      <ListItem key={i} alignItems=\"flex-start\">\n        <ListItemAvatar>\n          <Avatar src={comment.author.picture} alt={comment.author.name} />\n        </ListItemAvatar>\n        <ListItemText\n          primary={comment.text}\n          secondary={\n            <>\n              <Typography\n                className={classes.inline}\n                component=\"span\"\n                color=\"textPrimary\"\n              >\n                {comment.author.name}\n              </Typography>{\" \"}\n              · {distanceInWordsToNow(Number(comment.createdAt))} ago\n            </>\n          }\n        />\n      </ListItem>\n    ))}\n  </List>\n);\n\nconst styles = theme => ({\n  root: {\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper\n  },\n  inline: {\n    display: \"inline\"\n  }\n});\n\nexport default withStyles(styles)(Comments);\n","import React, { useContext } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\nimport FaceIcon from \"@material-ui/icons/Face\";\nimport format from \"date-fns/format\";\n\nimport CreateComment from \"../Comment/CreateComment\";\nimport Comments from \"../Comment/Comments\";\nimport Context from \"../../context\";\n\nconst PinContent = ({ classes }) => {\n  const { state } = useContext(Context);\n  const { title, content, author, createdAt, comments } = state.currentPin;\n  return (\n    <div className={classes.root}>\n      <Typography component=\"h2\" variant=\"h4\" color=\"primary\" gutterBottom>\n        {title}\n      </Typography>\n      <Typography\n        className={classes.text}\n        component=\"h3\"\n        variant=\"h6\"\n        color=\"inherit\"\n        gutterBottom\n      >\n        <FaceIcon className={classes.icon} /> {author.name}\n      </Typography>\n      <Typography\n        className={classes.text}\n        variant=\"subtitle2\"\n        color=\"inherit\"\n        gutterBottom\n      >\n        <AccessTimeIcon className={classes.icon} />\n        {format(Number(createdAt), \"MMM Do, YYYY\")}\n      </Typography>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        {content}\n      </Typography>\n\n      {/* Pin Comments */}\n      <CreateComment />\n      <Comments comments={comments} />\n    </div>\n  );\n};\n\nconst styles = theme => ({\n  root: {\n    padding: \"1em 0.5em\",\n    textAlign: \"center\",\n    width: \"100%\"\n  },\n  icon: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit\n  },\n  text: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});\n\nexport default withStyles(styles)(PinContent);\n","import React, { useContext } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Paper } from \"@material-ui/core\";\nimport { unstable_useMediaQuery as useMediaQuery } from \"@material-ui/core/useMediaQuery\";\n\nimport Context from \"../context\";\nimport NoContent from \"./Pin/NoContent\";\nimport CreatePin from \"./Pin/CreatePin\";\nimport PinContent from \"./Pin/PinContent\";\n\nconst Blog = ({ classes }) => {\n  const mobileSize = useMediaQuery(\"(max-width: 650px)\");\n  const { state } = useContext(Context);\n  const { draft, currentPin } = state;\n\n  let BlogContent;\n  if (!draft && !currentPin) {\n    BlogContent = NoContent;\n  } else if (draft && !currentPin) {\n    BlogContent = CreatePin;\n  } else if (!draft && currentPin) {\n    BlogContent = PinContent;\n  }\n\n  return (\n    <Paper className={mobileSize ? classes.rootMobile : classes.root}>\n      <BlogContent />\n    </Paper>\n  );\n};\n\nconst styles = {\n  root: {\n    minWidth: 350,\n    maxWidth: 400,\n    maxHeight: \"calc(100vh - 64px)\",\n    overflowY: \"scroll\",\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  rootMobile: {\n    maxWidth: \"100%\",\n    maxHeight: 300,\n    overflowX: \"hidden\",\n    overflowY: \"scroll\"\n  }\n};\n\nexport default withStyles(styles)(Blog);\n","import React, { useState, useEffect, useContext } from \"react\";\nimport ReactMapGL, { NavigationControl, Marker, Popup } from \"react-map-gl\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport differenceInMinutes from \"date-fns/difference_in_minutes\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DeleteIcon from \"@material-ui/icons/DeleteTwoTone\";\nimport { unstable_useMediaQuery as useMediaQuery } from \"@material-ui/core/useMediaQuery\";\nimport { Subscription } from \"react-apollo\";\n\nimport { useClient } from \"../client\";\nimport { GET_PINS_QUERY } from \"../graphql/queries\";\nimport { DELETE_PIN_MUTATION } from \"../graphql/mutations\";\nimport {\n  PIN_ADDED_SUBSCRIPTION,\n  PIN_UPDATED_SUBSCRIPTION,\n  PIN_DELETED_SUBSCRIPTION\n} from \"../graphql/subscriptions\";\nimport PinIcon from \"./PinIcon\";\nimport Blog from \"./Blog\";\nimport Context from \"../context\";\n\nconst INITIAL_VIEWPORT = {\n  latitude: 37.7577,\n  longitude: -122.4376,\n  zoom: 13\n};\n\nconst Map = ({ classes }) => {\n  const client = useClient();\n  const mobileSize = useMediaQuery(\"(max-width: 650px)\");\n  const { state, dispatch } = useContext(Context);\n  useEffect(() => {\n    getPins();\n  }, []);\n  const [viewport, setViewport] = useState(INITIAL_VIEWPORT);\n  const [userPosition, setUserPosition] = useState(null);\n  useEffect(() => {\n    getUserPosition();\n  }, []);\n  const [popup, setPopup] = useState(null);\n  // remove popup if pin itself is deleted by the author of the pin\n  useEffect(() => {\n    const pinExists =\n      popup && state.pins.findIndex(pin => pin._id === popup._id) > -1;\n    if (!pinExists) {\n      setPopup(null);\n    }\n  }, [state.pins.length]);\n\n  const getUserPosition = () => {\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const { latitude, longitude } = position.coords;\n        setViewport({ ...viewport, latitude, longitude });\n        setUserPosition({ latitude, longitude });\n      });\n    }\n  };\n\n  const getPins = async () => {\n    const { getPins } = await client.request(GET_PINS_QUERY);\n    dispatch({ type: \"GET_PINS\", payload: getPins });\n  };\n\n  const handleMapClick = ({ lngLat, leftButton }) => {\n    if (!leftButton) return;\n    if (!state.draft) {\n      dispatch({ type: \"CREATE_DRAFT\" });\n    }\n    const [longitude, latitude] = lngLat;\n    dispatch({\n      type: \"UPDATE_DRAFT_LOCATION\",\n      payload: { longitude, latitude }\n    });\n  };\n\n  const highlightNewPin = pin => {\n    const isNewPin =\n      differenceInMinutes(Date.now(), Number(pin.createdAt)) <= 30;\n    return isNewPin ? \"limegreen\" : \"darkblue\";\n  };\n\n  const handleSelectPin = pin => {\n    setPopup(pin);\n    dispatch({ type: \"SET_PIN\", payload: pin });\n  };\n\n  const isAuthUser = () => state.currentUser._id === popup.author._id;\n\n  const handleDeletePin = async pin => {\n    const variables = { pinId: pin._id };\n    await client.request(DELETE_PIN_MUTATION, variables);\n    setPopup(null);\n  };\n\n  return (\n    <div className={mobileSize ? classes.rootMobile : classes.root}>\n      <ReactMapGL\n        width=\"100vw\"\n        height=\"calc(100vh - 64px)\"\n        mapStyle=\"mapbox://styles/mapbox/streets-v9\"\n        mapboxApiAccessToken=\"pk.eyJ1IjoicmVlZGJhcmdlcmNvZGVzIiwiYSI6ImNqczVodXgzczAwM3E0M3MydzI0OHN0ZzEifQ.0qj4u8RW-Rj6An3WFLXKqA\"\n        scrollZoom={!mobileSize}\n        onViewportChange={newViewport => setViewport(newViewport)}\n        onClick={handleMapClick}\n        {...viewport}\n      >\n        {/* Navigation Control */}\n        <div className={classes.navigationControl}>\n          <NavigationControl\n            onViewportChange={newViewport => setViewport(newViewport)}\n          />\n        </div>\n\n        {/* Pin for User's Current Position */}\n        {userPosition && (\n          <Marker\n            latitude={userPosition.latitude}\n            longitude={userPosition.longitude}\n            offsetLeft={-19}\n            offsetTop={-37}\n          >\n            <PinIcon size={40} color=\"red\" />\n          </Marker>\n        )}\n\n        {/* Draft Pin */}\n        {state.draft && (\n          <Marker\n            latitude={state.draft.latitude}\n            longitude={state.draft.longitude}\n            offsetLeft={-19}\n            offsetTop={-37}\n          >\n            <PinIcon size={40} color=\"hotpink\" />\n          </Marker>\n        )}\n\n        {/* Created Pins */}\n        {state.pins.map(pin => (\n          <Marker\n            key={pin._id}\n            latitude={pin.latitude}\n            longitude={pin.longitude}\n            offsetLeft={-19}\n            offsetTop={-37}\n          >\n            <PinIcon\n              onClick={() => handleSelectPin(pin)}\n              size={40}\n              color={highlightNewPin(pin)}\n            />\n          </Marker>\n        ))}\n\n        {/* Popup Dialog for Created Pins */}\n        {popup && (\n          <Popup\n            anchor=\"top\"\n            latitude={popup.latitude}\n            longitude={popup.longitude}\n            closeOnClick={false}\n            onClose={() => setPopup(null)}\n          >\n            <img\n              className={classes.popupImage}\n              src={popup.image}\n              alt={popup.title}\n            />\n            <div className={classes.popupTab}>\n              <Typography>\n                {popup.latitude.toFixed(6)}, {popup.longitude.toFixed(6)}\n              </Typography>\n              {isAuthUser() && (\n                <Button onClick={() => handleDeletePin(popup)}>\n                  <DeleteIcon className={classes.deleteIcon} />\n                </Button>\n              )}\n            </div>\n          </Popup>\n        )}\n      </ReactMapGL>\n\n      {/* Subscriptions for Creating / Updating / Deleting Pins */}\n      <Subscription\n        subscription={PIN_ADDED_SUBSCRIPTION}\n        onSubscriptionData={({ subscriptionData }) => {\n          const { pinAdded } = subscriptionData.data;\n          console.log({ pinAdded });\n          dispatch({ type: \"CREATE_PIN\", payload: pinAdded });\n        }}\n      />\n      <Subscription\n        subscription={PIN_UPDATED_SUBSCRIPTION}\n        onSubscriptionData={({ subscriptionData }) => {\n          const { pinUpdated } = subscriptionData.data;\n          console.log({ pinUpdated });\n          dispatch({ type: \"CREATE_COMMENT\", payload: pinUpdated });\n        }}\n      />\n      <Subscription\n        subscription={PIN_DELETED_SUBSCRIPTION}\n        onSubscriptionData={({ subscriptionData }) => {\n          const { pinDeleted } = subscriptionData.data;\n          console.log({ pinDeleted });\n          dispatch({ type: \"DELETE_PIN\", payload: pinDeleted });\n        }}\n      />\n\n      {/* Blog Area to add Pin Content */}\n      <Blog />\n    </div>\n  );\n};\n\nconst styles = {\n  root: {\n    display: \"flex\"\n  },\n  rootMobile: {\n    display: \"flex\",\n    flexDirection: \"column-reverse\"\n  },\n  navigationControl: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    margin: \"1em\"\n  },\n  deleteIcon: {\n    color: \"red\"\n  },\n  popupImage: {\n    padding: \"0.4em\",\n    height: 200,\n    width: 200,\n    objectFit: \"cover\"\n  },\n  popupTab: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\"\n  }\n};\n\nexport default withStyles(styles)(Map);\n","export const ME_QUERY = `\n{\n  me {\n    _id\n\t\tname\n\t\temail\n\t\tpicture\n  }\n}\n`;\n\nexport const GET_PINS_QUERY = `\n  {\n    getPins {\n      _id\n      createdAt\n      title\n      image\n      content\n      latitude\n      longitude\n      author {\n        _id\n        name\n        email\n        picture\n      }\n      comments {\n        text\n        createdAt\n        author {\n          _id \n          name\n          picture\n        }\n      }\n    }\n  }\n`;\n","import React from \"react\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport purple from \"@material-ui/core/colors/purple\";\nimport green from \"@material-ui/core/colors/green\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\n// A theme with custom primary and secondary color.\n// It's optional.\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: purple[300],\n      main: purple[500],\n      dark: purple[700]\n    },\n    secondary: {\n      light: green[300],\n      main: green[500],\n      dark: green[700]\n    }\n  },\n  typography: {\n    useNextVariants: true\n  }\n});\n\nfunction withRoot(Component) {\n  function WithRoot(props) {\n    // MuiThemeProvider makes the theme available down the React tree\n    // thanks to React context.\n    return (\n      <MuiThemeProvider theme={theme}>\n        {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n        {/* https://material-ui.com/getting-started/usage/#cssbaseline */}\n        <CssBaseline />\n        <Component {...props} />\n      </MuiThemeProvider>\n    );\n  }\n\n  return WithRoot;\n}\n\nexport default withRoot;\n","import React from \"react\";\n\nimport Header from \"../components/Header\";\nimport Map from \"../components/Map\";\nimport withRoot from \"../withRoot\";\n\nconst App = () => {\n  return (\n    <>\n      <Header />\n      <Map />\n    </>\n  );\n};\n\nexport default withRoot(App);\n","import React, { useContext } from \"react\";\nimport { GraphQLClient } from \"graphql-request\";\nimport { GoogleLogin } from \"react-google-login\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport Context from \"../../context\";\nimport { ME_QUERY } from \"../../graphql/queries\";\nimport { BASE_URL } from \"../../client\";\n\nconst Login = ({ classes }) => {\n  const { dispatch } = useContext(Context);\n\n  const onSuccess = async googleUser => {\n    try {\n      const idToken = googleUser.getAuthResponse().id_token;\n      const client = new GraphQLClient(BASE_URL, {\n        headers: { authorization: idToken }\n      });\n      const { me } = await client.request(ME_QUERY);\n      dispatch({ type: \"LOGIN_USER\", payload: me });\n      dispatch({ type: \"IS_LOGGED_IN\", payload: googleUser.isSignedIn() });\n    } catch (err) {\n      onFailure(err);\n    }\n  };\n\n  const onFailure = err => {\n    console.error(\"Error logging in\", err);\n    dispatch({ type: \"IS_LOGGED_IN\", payload: false });\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography\n        component=\"h1\"\n        variant=\"h3\"\n        gutterBottom\n        noWrap\n        style={{ color: \"rgb(66, 133, 244)\" }}\n      >\n        Welcome\n      </Typography>\n      <GoogleLogin\n        clientId=\"762121506690-efhssnl1fdjep8gcb98j4n1riqj5b9j0.apps.googleusercontent.com\"\n        onSuccess={onSuccess}\n        onFailure={onFailure}\n        isSignedIn={true}\n        buttonText=\"Login with Google\"\n        theme=\"dark\"\n      />\n    </div>\n  );\n};\n\nconst styles = {\n  root: {\n    height: \"100vh\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }\n};\n\nexport default withStyles(styles)(Login);\n","import React, { useContext } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Login from \"../components/Auth/Login\";\nimport Context from \"../context\";\n\nconst Splash = () => {\n  const { state } = useContext(Context);\n  return state.isAuth ? <Redirect to=\"/\" /> : <Login />;\n};\n\nexport default Splash;\n","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nimport Context from \"./context\";\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n  const { state } = useContext(Context);\n  return (\n    <Route\n      render={props =>\n        !state.isAuth ? <Redirect to=\"/login\" /> : <Component {...props} />\n      }\n      {...rest}\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","export default function reducer(state, { type, payload }) {\n  switch (type) {\n    case \"LOGIN_USER\":\n      return {\n        ...state,\n        currentUser: payload\n      };\n    case \"IS_LOGGED_IN\":\n      return {\n        ...state,\n        isAuth: payload\n      };\n    case \"SIGNOUT_USER\":\n      return {\n        ...state,\n        isAuth: false,\n        currentUser: null\n      };\n    case \"CREATE_DRAFT\":\n      return {\n        ...state,\n        currentPin: null,\n        draft: {\n          latitude: 0,\n          longitude: 0\n        }\n      };\n    case \"UPDATE_DRAFT_LOCATION\":\n      return {\n        ...state,\n        draft: payload\n      };\n    case \"DELETE_DRAFT\":\n      return {\n        ...state,\n        draft: null\n      };\n    case \"GET_PINS\":\n      return {\n        ...state,\n        pins: payload\n      };\n    case \"CREATE_PIN\":\n      const newPin = payload;\n      const prevPins = state.pins.filter(pin => pin._id !== newPin._id);\n      return {\n        ...state,\n        pins: [...prevPins, newPin]\n      };\n    case \"SET_PIN\":\n      return {\n        ...state,\n        currentPin: payload,\n        draft: null\n      };\n    case \"DELETE_PIN\":\n      const deletedPin = payload;\n      const filteredPins = state.pins.filter(pin => pin._id !== deletedPin._id);\n      if (state.currentPin) {\n        const isCurrentPin = deletedPin._id === state.currentPin._id;\n        if (isCurrentPin) {\n          return {\n            ...state,\n            pins: filteredPins,\n            currentPin: null\n          };\n        }\n      }\n      return {\n        ...state,\n        pins: filteredPins\n      };\n    case \"CREATE_COMMENT\":\n      const updatedCurrentPin = payload;\n      // find and replace\n      const updatedPins = state.pins.map(pin =>\n        pin._id === updatedCurrentPin._id ? updatedCurrentPin : pin\n      );\n      return {\n        ...state,\n        pins: updatedPins,\n        currentPin: updatedCurrentPin\n      };\n    default:\n      return state;\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { useContext, useReducer } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport App from \"./pages/App\";\nimport Splash from \"./pages/Splash\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Context from \"./context\";\nimport reducer from \"./reducer\";\n\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport { ApolloProvider } from \"react-apollo\";\nimport { ApolloClient } from \"apollo-client\";\nimport { WebSocketLink } from \"apollo-link-ws\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\n\nconst wsLink = new WebSocketLink({\n  uri: \"wss://geo-pins-anton.herokuapp.com/graphql\",\n  options: {\n    reconnect: true\n  }\n});\n\nconst client = new ApolloClient({\n  link: wsLink,\n  cache: new InMemoryCache()\n});\n\nconst Root = () => {\n  const initialState = useContext(Context);\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <Router>\n      <ApolloProvider client={client}>\n        <Context.Provider value={{ state, dispatch }}>\n          <Switch>\n            <ProtectedRoute exact path=\"/\" component={App} />\n            <Route path=\"/login\" component={Splash} />\n          </Switch>\n        </Context.Provider>\n      </ApolloProvider>\n    </Router>\n  );\n};\n\nReactDOM.render(<Root />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}